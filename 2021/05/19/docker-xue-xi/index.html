<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>Docker学习 | 兔の博客</title><meta name="author" content="Alexander Liu"><meta name="copyright" content="Alexander Liu"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="B站狂神说docker教程，SpringMVC太干了听不下去，先听会儿这个转换心情。">
<meta property="og:type" content="article">
<meta property="og:title" content="Docker学习">
<meta property="og:url" content="http://example.com/2021/05/19/docker-xue-xi/index.html">
<meta property="og:site_name" content="兔の博客">
<meta property="og:description" content="B站狂神说docker教程，SpringMVC太干了听不下去，先听会儿这个转换心情。">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/alexanderliu-creator/cloudimg/img/20210819205713.png">
<meta property="article:published_time" content="2021-05-19T08:00:09.000Z">
<meta property="article:modified_time" content="2021-08-19T12:57:35.000Z">
<meta property="article:author" content="Alexander Liu">
<meta property="article:tag" content="后端">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://cdn.jsdelivr.net/gh/alexanderliu-creator/cloudimg/img/20210819205713.png"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="http://example.com/2021/05/19/docker-xue-xi/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"prismjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'Docker学习',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2021-08-19 20:57:35'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 6.2.0">
<style>.github-emoji { position: relative; display: inline-block; width: 1.2em; min-height: 1.2em; overflow: hidden; vertical-align: top; color: transparent; }  .github-emoji > span { position: relative; z-index: 10; }  .github-emoji img, .github-emoji .fancybox { margin: 0 !important; padding: 0 !important; border: none !important; outline: none !important; text-decoration: none !important; user-select: none !important; cursor: auto !important; }  .github-emoji img { height: 1.2em !important; width: 1.2em !important; position: absolute !important; left: 50% !important; top: 50% !important; transform: translate(-50%, -50%) !important; user-select: none !important; cursor: auto !important; } .github-emoji-fallback { color: inherit; } .github-emoji-fallback img { opacity: 0 !important; }</style>
<link rel="alternate" href="/atom.xml" title="兔の博客" type="application/atom+xml">
</head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="https://i.loli.net/2021/02/24/5O1day2nriDzjSu.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">75</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">15</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">5</div></a></div><hr/></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('https://cdn.jsdelivr.net/gh/alexanderliu-creator/cloudimg/img/20210819205713.png')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">兔の博客</a></span><div id="menus"><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">Docker学习</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2021-05-19T08:00:09.000Z" title="发表于 2021-05-19 16:00:09">2021-05-19</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2021-08-19T12:57:35.000Z" title="更新于 2021-08-19 20:57:35">2021-08-19</time></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="Docker学习"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 id="B站狂神说docker教程，SpringMVC太干了听不下去，先听会儿这个转换心情。"><a href="#B站狂神说docker教程，SpringMVC太干了听不下去，先听会儿这个转换心情。" class="headerlink" title="B站狂神说docker教程，SpringMVC太干了听不下去，先听会儿这个转换心情。"></a>B站狂神说docker教程，SpringMVC太干了听不下去，先听会儿这个转换心情。</h1><span id="more"></span>



<h1 id="Docker入门"><a href="#Docker入门" class="headerlink" title="Docker入门"></a>Docker入门</h1><h2 id="Docker为啥会出现"><a href="#Docker为啥会出现" class="headerlink" title="Docker为啥会出现"></a>Docker为啥会出现</h2><ul>
<li><p>开发 —&gt; 上线 ， 两套环境！应用环境，应用配置！</p>
</li>
<li><p>问题：我在我都电脑上可以跑哇？？？</p>
</li>
<li><p>版本更新，导致服务不可用，运维裂开来。</p>
</li>
<li><p>开发即运维。</p>
</li>
</ul>
<blockquote>
<ul>
<li>发布一个项目 jar + (Redis MySQL jdk ES) , 环境和项目打包，项目带上环境安装打包</li>
<li>传统：<ul>
<li>传统：开发jar , 运维来做</li>
<li>现在：开发打包部署上线，一套流程完成</li>
</ul>
</li>
<li>Docker为上面问题提供了解决方案嗷！！！</li>
<li>Docker仓库就类似于镜像，环境和内部打包好了就上线到商店里面，有需要下载下来就可以直接跑的嗷！</li>
</ul>
</blockquote>
<ul>
<li>隔离是docker的核心思想，每个箱子是相互隔离的。</li>
<li>docker的隔离机制可以充分利用服务器资源，端口冲突的问题也可以通过docker来解决。</li>
<li>本质：新的技术的出现都是为了解决问题。</li>
</ul>
<h2 id="Docker的历史"><a href="#Docker的历史" class="headerlink" title="Docker的历史"></a>Docker的历史</h2><ul>
<li>2010年一帮人搞了一个容器化技术，命名为Docker。为了解决类似于VMWare，太重量的东西。</li>
<li>2013年Docker开源了，Docker是真的非常好用哦！！！每一个月Docker都会更新一个版本。</li>
<li>2014年4月9日，Docker1.0发布。</li>
<li>为啥火？容器技术出现之前，使用虚拟机技术。</li>
</ul>
<blockquote>
<p>虚拟机：win10上装一个VMWare，子电脑，可以虚拟电脑，但是太大了笨重。</p>
<p>Docker：容器技术，本质上也是虚拟化技术，但是轻量级。镜像（最核心的环境），十分小巧，运行镜像就可以了。小巧。（几兆，几十兆就可以启动，秒级启动，爽啦。）</p>
</blockquote>
<ul>
<li>Docker是基于go语言开发的开源项目。</li>
</ul>
<p><a target="_blank" rel="noopener" href="https://docs.docker.com/get-docker/">docker的官方文档</a>，这个文档超级详细，力赞。</p>
<p><a target="_blank" rel="noopener" href="https://hub.docker.com/">dockerhub官网</a>，和github是一样的，和github很像，push pull都有。</p>
<h2 id="Docker能干啥"><a href="#Docker能干啥" class="headerlink" title="Docker能干啥"></a>Docker能干啥</h2><ul>
<li>虚拟机技术的缺点：<ul>
<li>资源占用多</li>
<li>冗余步骤多</li>
<li>启动很慢</li>
</ul>
</li>
</ul>
<p><img src="https://cdn.jsdelivr.net/gh/alexanderliu-creator/cloudimg/20210521172228.png" alt="image-20210521172228149"></p>
<ul>
<li>容器化技术：<ul>
<li>不是模拟一个完整的容器：</li>
</ul>
</li>
</ul>
<p><img src="https://cdn.jsdelivr.net/gh/alexanderliu-creator/cloudimg/20210521172330.png" alt="image-20210521172330732"></p>
<ul>
<li>容器没有自己的内核，也没有虚拟我们的硬件，所以就轻便了。</li>
<li>每个容器相互隔离的，不影响的。</li>
<li>应用更加快速的交付和部署。</li>
<li>更加便捷的升级和扩缩容量。</li>
<li>更加简单的系统运维。</li>
<li>更高效的计算资源利用，Docker是内核级别的虚拟化嗷，可以将服务器的性能压榨到极致。</li>
</ul>
<h2 id="Docker的架构"><a href="#Docker的架构" class="headerlink" title="Docker的架构"></a>Docker的架构</h2><p><img src="https://cdn.jsdelivr.net/gh/alexanderliu-creator/cloudimg/20210521173517.png" alt="image-20210521173517895"></p>
<ul>
<li>从左到右为服务端，客户端和仓库。</li>
</ul>
<h3 id="镜像-image-："><a href="#镜像-image-：" class="headerlink" title="镜像( image )："></a>镜像( image )：</h3><ul>
<li>docker镜像就好比是一个模板，可以通过这个模板来创建容器服务，tomcat -&gt; run -&gt; 容器。一个镜像可以创建多个容器。</li>
</ul>
<h3 id="容器-container-："><a href="#容器-container-：" class="headerlink" title="容器( container )："></a>容器( container )：</h3><ul>
<li>Docker利用容器技术，独立运行一个或者一个组运用，通过镜像来创建。</li>
<li>启动，停止，删除，基本命令</li>
<li>目前就可以把这个容器理解为一个简易的linux系统</li>
</ul>
<h3 id="仓库-repository-："><a href="#仓库-repository-：" class="headerlink" title="仓库(  repository )："></a>仓库(  repository )：</h3><ul>
<li>仓库就是存放镜像的地方。</li>
<li>仓库分为公有仓库和私有仓库。</li>
<li>Docker Hub 默认是国外的，要配置镜像加速的嗷！</li>
</ul>
<h2 id="安装Docker："><a href="#安装Docker：" class="headerlink" title="安装Docker："></a>安装Docker：</h2><blockquote>
<p>环境准备：</p>
<ul>
<li>Linux基础</li>
<li>CentOS 7.6</li>
<li>使用Xshell连接远程服务器进行操作</li>
</ul>
</blockquote>
<p><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1og4y1q7M4?p=6">Docker安装教程</a></p>
<ul>
<li>可以在腾讯云上实操嗷！！！</li>
</ul>
<h3 id="安装步骤："><a href="#安装步骤：" class="headerlink" title="安装步骤："></a>安装步骤：</h3><blockquote>
<p>查看现在发行的版本：</p>
</blockquote>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">cat</span> /etc/os-release
<span class="token comment"># 上面这个可以查看内核版本</span>
<span class="token comment"># 下面是显示出来的系统版本，要7以上</span>
<span class="token assign-left variable">NAME</span><span class="token operator">=</span><span class="token string">"CentOS Linux"</span>
<span class="token assign-left variable">VERSION</span><span class="token operator">=</span><span class="token string">"7 (Core)"</span>
<span class="token assign-left variable">ID</span><span class="token operator">=</span><span class="token string">"centos"</span>
<span class="token assign-left variable">ID_LIKE</span><span class="token operator">=</span><span class="token string">"rhel fedora"</span>
<span class="token assign-left variable">VERSION_ID</span><span class="token operator">=</span><span class="token string">"7"</span>
<span class="token assign-left variable">PRETTY_NAME</span><span class="token operator">=</span><span class="token string">"CentOS Linux 7 (Core)"</span>
<span class="token assign-left variable">ANSI_COLOR</span><span class="token operator">=</span><span class="token string">"0;31"</span>
<span class="token assign-left variable">CPE_NAME</span><span class="token operator">=</span><span class="token string">"cpe:/o:centos:centos:7"</span>
<span class="token assign-left variable">HOME_URL</span><span class="token operator">=</span><span class="token string">"https://www.centos.org/"</span>
<span class="token assign-left variable">BUG_REPORT_URL</span><span class="token operator">=</span><span class="token string">"https://bugs.centos.org/"</span>

<span class="token assign-left variable">CENTOS_MANTISBT_PROJECT</span><span class="token operator">=</span><span class="token string">"CentOS-7"</span>
<span class="token assign-left variable">CENTOS_MANTISBT_PROJECT_VERSION</span><span class="token operator">=</span><span class="token string">"7"</span>
<span class="token assign-left variable">REDHAT_SUPPORT_PRODUCT</span><span class="token operator">=</span><span class="token string">"centos"</span>
<span class="token assign-left variable">REDHAT_SUPPORT_PRODUCT_VERSION</span><span class="token operator">=</span><span class="token string">"7"</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<blockquote>
<p>帮助文档中选择对应的系统进行安装：</p>
</blockquote>
<p><img src="https://cdn.jsdelivr.net/gh/alexanderliu-creator/cloudimg/20210522160147.png" alt="image-20210522160140340"></p>
<ul>
<li>接着这里的步骤一步步往下走就好了嗷！！！</li>
</ul>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># 1. 卸载旧的版本</span>
 <span class="token function">sudo</span> yum remove <span class="token function">docker</span> <span class="token punctuation">\</span>
                  docker-client <span class="token punctuation">\</span>
                  docker-client-latest <span class="token punctuation">\</span>
                  docker-common <span class="token punctuation">\</span>
                  docker-latest <span class="token punctuation">\</span>
                  docker-latest-logrotate <span class="token punctuation">\</span>
                  docker-logrotate <span class="token punctuation">\</span>
                  docker-engine
<span class="token comment"># 2.需要的安装包</span>
 <span class="token function">sudo</span> yum <span class="token function">install</span> -y yum-utils
 
 
 <span class="token comment"># 3.设置镜像仓库，这一步不建议用国外的网站，这里找国内的来用嗷！！！！（不推荐，看下一条嗷！！！）</span>
 <span class="token function">sudo</span> yum-config-manager --add-repo https://download.docker.com/linux/centos/docker-ce.repo

<span class="token comment"># 3.改用国内的镜像（阿里云镜像）来设置仓库地址：</span>
 <span class="token function">sudo</span> yum-config-manager --add-repo http://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo

<span class="token comment"># 更新yum软件包索引</span>
yum makecache fast

<span class="token comment"># 4.安装docker相关的好东西</span>
 <span class="token function">sudo</span> yum <span class="token function">install</span> docker-ce docker-ce-cli containerd.io
<span class="token comment"># docker-ce 是社区版的，ee是企业版的，推荐使用ce。到这里安装就结束了</span>

<span class="token comment"># 5. 启动docker</span>
<span class="token function">sudo</span> systemctl start <span class="token function">docker</span>

<span class="token comment"># 6. 运行hello-world 映像来验证是否正确安装了Docker Engine 。</span>
<span class="token function">sudo</span> <span class="token function">docker</span> run hello-world<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<ul>
<li>如果要安装指定版本的话，官网有教程哦：</li>
</ul>
<p><img src="https://cdn.jsdelivr.net/gh/alexanderliu-creator/cloudimg/20210522161646.png" alt="image-20210522161646888"></p>
<ul>
<li>当显示下面的内容的时候，docker安装成功：<ul>
<li>执行docker run hello-world：<ul>
<li><img src="https://cdn.jsdelivr.net/gh/alexanderliu-creator/cloudimg/20210522161855.png" alt="image-20210522161855830"></li>
</ul>
</li>
<li>使用docker version查看docker版本：<ul>
<li><img src="https://cdn.jsdelivr.net/gh/alexanderliu-creator/cloudimg/20210522161921.png" alt="image-20210522161921240"></li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="Docker-run-hello-world："><a href="#Docker-run-hello-world：" class="headerlink" title="Docker run hello-world："></a>Docker run hello-world：</h3><ul>
<li>首先Unable to find image ， 就是没有找到这个镜像</li>
<li>其次就去网上pull hello-world这个东西了。</li>
<li>下载完成之后再执行这个镜像，显示执行结果：</li>
</ul>
<p><img src="https://cdn.jsdelivr.net/gh/alexanderliu-creator/cloudimg/20210522162121.png" alt="image-20210522162121571"></p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># 查看下载的hello-image镜像</span>
<span class="token function">docker</span> images<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<ul>
<li>结果如下：</li>
</ul>
<p><img src="https://cdn.jsdelivr.net/gh/alexanderliu-creator/cloudimg/20210522162332.png" alt="image-20210522162332833"></p>
<h3 id="卸载docker："><a href="#卸载docker：" class="headerlink" title="卸载docker："></a>卸载docker：</h3><ol>
<li><p>卸载Docker Engine，CLI和Containerd软件包：</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ <span class="token function">sudo</span> yum remove docker-ce docker-ce-cli containerd.io<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
</li>
<li><p>主机上的映像，容器，卷或自定义配置文件不会自动删除。要删除所有图像，容器和卷：</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ <span class="token function">sudo</span> <span class="token function">rm</span> -rf /var/lib/docker
$ <span class="token function">sudo</span> <span class="token function">rm</span> -rf /var/lib/containerd<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></li>
</ol>
<p>您必须手动删除所有已编辑的配置文件。</p>
<ul>
<li>官方文档真香啊！！！</li>
</ul>
<h3 id="配置腾讯云加速："><a href="#配置腾讯云加速：" class="headerlink" title="配置腾讯云加速："></a>配置腾讯云加速：</h3><p><a target="_blank" rel="noopener" href="https://cloud.tencent.com/document/product/1207/45596">腾讯云官方文档</a></p>
<ul>
<li><p>适用于 Linux 操作系统实例：</p>
<ol>
<li><p>执行以下命令，打开配置文件。</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">vim</span> /etc/docker/daemon.json<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>切换至编辑模式，添加以下内容，并保存。</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token punctuation">{</span>
     <span class="token string">"registry-mirrors"</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span>
 <span class="token string">"https://mirror.ccs.tencentyun.com"</span>
     <span class="token punctuation">]</span>
     <span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
<li><p>执行以下命令，重启 Docker 即可。示例命令以 CentOS 7 为例。</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">sudo</span> systemctl restart <span class="token function">docker</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li>
</ol>
</li>
</ul>
<h3 id="Hello-World流程："><a href="#Hello-World流程：" class="headerlink" title="Hello-World流程："></a>Hello-World流程：</h3><ul>
<li>流程分析图：</li>
</ul>
<p><img src="https://cdn.jsdelivr.net/gh/alexanderliu-creator/cloudimg/20210522164949.png" alt="image-20210522164949462"></p>
<h2 id="底层原理："><a href="#底层原理：" class="headerlink" title="底层原理："></a>底层原理：</h2><ul>
<li>怎么工作的？<ul>
<li>本质上是一个C/S接口系统，Docker守护进程运行在主机上，通过socket从客户端访问。</li>
<li>DockerServer接收到Docker-Client的指令，就会执行这个命令。</li>
</ul>
</li>
<li>内部结构：</li>
</ul>
<p><img src="https://cdn.jsdelivr.net/gh/alexanderliu-creator/cloudimg/20210522171235.png" alt="image-20210522171235487"></p>
<ul>
<li>后台是一个大的Linux服务器，通过客户端去连接后台的守护进程，Docker容器在我们的范围之内。每一个小的docker容器好比是一个小的Linux虚拟机。容器内有自己的端口号，和外界隔离，外界无法访问，只有守护进程能访问。大小Linux相互隔离，因此外界大Linux要访问小的Linux，需要一些技术将其连通。</li>
<li>Docker为啥比VM快？<ul>
<li>Docker有更少的抽象层</li>
<li>Docker利用的是宿主机的内核，vm需要的是Guest OS。</li>
<li>新建一个容器的时候，不需要加载虚拟机一样的操作系统内核，避免引导，因此很快。省略了复杂的引导过程。</li>
</ul>
</li>
<li>之后学命令就会很快乐，很清晰。</li>
</ul>
<h2 id="Docker常用命令："><a href="#Docker常用命令：" class="headerlink" title="Docker常用命令："></a>Docker常用命令：</h2><h4 id="docker-version-x2F-info-x2F-help："><a href="#docker-version-x2F-info-x2F-help：" class="headerlink" title="docker version / info / help："></a>docker version / info / help：</h4><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">docker</span> version		<span class="token comment">#显示版本信息</span>
<span class="token function">docker</span> info			<span class="token comment">#显示docker详细的系统信息</span>
<span class="token function">docker</span> 命令 --help   <span class="token comment">#docker的帮助文档</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<ul>
<li>官网也可以在帮助文档中的reference找到所有的命令和列表。<a target="_blank" rel="noopener" href="https://docs.docker.com/reference/">Docker帮助文档</a></li>
<li>但是官网在国外会比较慢，所以我们这里直接使用命令进行查找用法即可。</li>
</ul>
<h3 id="常用镜像命令："><a href="#常用镜像命令：" class="headerlink" title="常用镜像命令："></a>常用镜像命令：</h3><h4 id="docker-images："><a href="#docker-images：" class="headerlink" title="docker images："></a>docker images：</h4><ul>
<li><pre><code class="shell">[root@VM-12-10-centos ~]# docker images
REPOSITORY    TAG       IMAGE ID       CREATED        SIZE
hello-world   latest    d1165f221234   2 months ago   13.3kB
<pre class="line-numbers language-none"><code class="language-none">
- Repository：镜像的仓库源

- Tag：镜像的标签

- Image ID：镜像的id

- Created：镜像的创建时间

- Size：镜像的大小

- 可选项：

  - -a , 列出所有镜像
  - -q , 只显示id

#### docker search:

- shell中所搜镜像源头

- ```shell
  [root@VM-12-10-centos ~]# docker search mysql
  NAME                              DESCRIPTION                                  STARS     OFFICIAL  AUTOMATED
  mysql                             MySQL is a widely used, open-source relation…   10903     [OK]       
  mariadb                           MariaDB Server is a high performing open sou…   4115      [OK]       
  mysql/mysql-server                Optimized MySQL Server Docker images. Create…   809                  [OK]<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</code></pre>
</li>
<li><p>可选项：</p>
<ul>
<li><p>–filter , 过滤器，过滤出符合条件的内容。例如<code>--filter=STARS=3000</code>，就只会显示STARS中3000以上的内容。</p>
</li>
<li><p>```shell<br>[root@VM-12-10-centos ~]# docker search mysql –filter=STARS=3000<br>NAME      DESCRIPTION                                     STARS     OFFICIAL   AUTOMATED<br>mysql     MySQL is a widely used, open-source relation…   10903     [OK]<br>mariadb   MariaDB Server is a high performing open sou…   4115      [OK]  </p>
<pre class="line-numbers language-none"><code class="language-none">


#### docker pull：

![image-20210522180106175](https://cdn.jsdelivr.net/gh/alexanderliu-creator/cloudimg/20210522180106.png)

- 下载镜像采用分层的方式
- Digest是一个签名
- 最后是一个下载的真实地址

下面两条是等价的，你这里pull mysql实际上就是从下面这个地址去pull



- 指定版本：
  - 需要是系统支持的版本，在docker hub中可以看到有哪些版本的。
  - `docker pull mysql:5.7`
- 分层下载：
  - 多个文件有共享的内容就不用分层进行下载了，直接可以共用哦。



#### docker rmi：

- 可以通过id或者是name来删除。
- 删除过程中也是按照层来删！！！
- `docker rmi -f name/id`，删除指定容器
- `docker rmi -f 容器id 容器id 容器id`，删除多个容器
- 这里-f表示的是强制删除的参数嗷！！！

```shell
[root@VM-12-10-centos ~]# docker rmi -f d1165f221234
Untagged: hello-world:latest
Untagged: hello-world@sha256:5122f6204b6a3596e048758cabba3c46b1c937a46b5be6225b835d091b90e46c
Deleted: sha256:d1165f2212346b2bab48cb01c1e39ee8ad1be46b87873d9ca7a4e434980a7726<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>
</ul>
</li>
<li><p>批量删除（用到了linux中的技巧哦）：</p>
<ul>
<li><code>docker rmi -f $(docker images -aq)</code>，这样可以删除所有镜像。</li>
</ul>
</li>
</ul>
<h3 id="常用容器命令："><a href="#常用容器命令：" class="headerlink" title="常用容器命令："></a>常用容器命令：</h3><ul>
<li>有了镜像才可以创建容器，linux，下载一个centos镜像来测试学习:</li>
</ul>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">docker</span> pull centos<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>



<h4 id="docker-run："><a href="#docker-run：" class="headerlink" title="docker run："></a>docker run：</h4><ul>
<li><p>docker run [可选参数] image</p>
</li>
<li><p>参数说明：</p>
<ul>
<li>–name=”Name”   容器名字用来区分名字</li>
<li>-d   后台方式运行</li>
<li>-it   使用交互方式运行，进入容器查看内容</li>
<li>-p   指定容器端口：<ul>
<li>主机端口映射到容器端口（最常使用）</li>
<li>直接容器端口</li>
<li>ip：主机端口:容器端口</li>
</ul>
</li>
<li>-P   随机指定端口</li>
</ul>
</li>
<li><p>实际进入容器的例子：</p>
</li>
</ul>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token punctuation">[</span>root@VM-12-10-centos ~<span class="token punctuation">]</span><span class="token comment"># docker run -it centos /bin/bash</span>
<span class="token punctuation">[</span>root@0c9bb9c70481 /<span class="token punctuation">]</span>

<span class="token punctuation">[</span>root@0c9bb9c70481 /<span class="token punctuation">]</span><span class="token comment"># ls</span>
bin  etc   lib	  lost+found  mnt  proc  run   srv  tmp  var
dev  home  lib64  media       opt  root  sbin  sys  usr<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<ul>
<li>启动并进入容器，主机名称变了兄弟，现在进入到我们的容器里面去了，容器里面和外面是两个世界。里面是一个非常非常轻量的服务器，甚至指令都不完善的。</li>
<li>从容器中退回主机：exit可以退出进入的容器。</li>
</ul>
<h4 id="docker-ps："><a href="#docker-ps：" class="headerlink" title="docker  ps："></a>docker  ps：</h4><ul>
<li>显示正在运行的程序</li>
<li>参数大全： </li>
<li>-a , 显示历史运过的容器：</li>
</ul>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token punctuation">[</span>root@VM-12-10-centos ~<span class="token punctuation">]</span><span class="token comment"># docker ps -a</span>
CONTAINER ID   IMAGE          COMMAND       CREATED         STATUS                     PORTS     NAMES
0c9bb9c70481   centos         <span class="token string">"/bin/bash"</span>   <span class="token number">5</span> minutes ago   Exited <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token number">2</span> minutes ago             laughing_shamir
0e312a95099c   d1165f221234   <span class="token string">"/hello"</span>      <span class="token number">3</span> hours ago     Exited <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token number">3</span> hours ago               crazy_cray<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<ul>
<li>-n=？ 显示最近创建的容器，可以给个数。</li>
<li>-q  只显示容器的编号</li>
</ul>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token punctuation">[</span>root@VM-12-10-centos ~<span class="token punctuation">]</span><span class="token comment"># docker ps -aq</span>
2ab97137c167
5650592ad646
e6778cc94fee<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<ul>
<li>上面这个例子可以显示全部容器的编号</li>
</ul>
<h4 id="退出容器："><a href="#退出容器：" class="headerlink" title="退出容器："></a>退出容器：</h4><ul>
<li>exit，停止并退出容器</li>
<li>Ctrl + P + Q ， 容器不停止同时退出容器</li>
</ul>
<h4 id="docker-rm："><a href="#docker-rm：" class="headerlink" title="docker rm："></a>docker rm：</h4><ul>
<li>删除容器</li>
<li><code>docker rm 容器id</code></li>
<li><code>docker rm -f $(docker ps -aq)</code>，删除所有的容器</li>
<li>运行中的容器不能够删除，如果要强制删除的话要<code>rm -f</code></li>
<li><code>docker ps -a -q|xargs docker rm</code>，这个也可以删除所有容器。</li>
</ul>
<h4 id="启动和停止容器的操作："><a href="#启动和停止容器的操作：" class="headerlink" title="启动和停止容器的操作："></a>启动和停止容器的操作：</h4><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">docker</span> start 容器id 	<span class="token comment">#启动</span>
<span class="token function">docker</span> restart 容器id <span class="token comment">#重启</span>
<span class="token function">docker</span> stop 容器id	<span class="token comment">#停止正在运行的容器</span>
<span class="token function">docker</span> <span class="token function">kill</span> 容器id	<span class="token comment">#强制停止当前容器</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>



<h3 id="常用其他命令："><a href="#常用其他命令：" class="headerlink" title="常用其他命令："></a>常用其他命令：</h3><h4 id="docker-run-d-容器名"><a href="#docker-run-d-容器名" class="headerlink" title="docker run -d 容器名"></a>docker run -d 容器名</h4><ul>
<li>通过<code>docker run -d 镜像名</code>来后台跑起来一个容器</li>
<li>但是你发现启动完成之后，docker ps -a看不到？？？它自动停掉了。</li>
<li>reason：<ul>
<li>docker是容器使用后台运行，必须要有一个前台进程，docker发现没有前台提供服务的应用，就会自动停止。</li>
<li>容器启动后，发现自己没有提供服务，就会立即停止，没有程序了。</li>
</ul>
</li>
</ul>
<h4 id="docker-logs"><a href="#docker-logs" class="headerlink" title="docker logs"></a>docker logs</h4><ul>
<li>参数：<ul>
<li>-f：format，标准化输出。</li>
<li>-t：显示时间戳。</li>
<li>还有好多…</li>
</ul>
</li>
</ul>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">docker</span> logs -tf --tail 要显示的日志条数 容器id
<span class="token comment"># -tf 显示日志</span>
<span class="token comment"># --tail number 显示日志条数</span>
dockers logs -tf 容器id
<span class="token comment">#上面这个就可以显示全部的日志</span>
<span class="token comment">#上面两个都可以不断更新最新的日志</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<ul>
<li>上面这个可以显示容器内的日志，但有可能容器啥都没干，就无日志</li>
</ul>
<h4 id="查看进程信息"><a href="#查看进程信息" class="headerlink" title="查看进程信息"></a>查看进程信息</h4><ul>
<li>docker top 容器id</li>
<li>会显示出容器中所有进程的id</li>
</ul>
<h4 id="查看镜像元数据"><a href="#查看镜像元数据" class="headerlink" title="查看镜像元数据"></a>查看镜像元数据</h4><ul>
<li>docker inspect 容器id</li>
</ul>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token punctuation">[</span>root@VM-12-10-centos ~<span class="token punctuation">]</span><span class="token comment"># docker inspect hello-world</span>
<span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
        <span class="token string">"Id"</span><span class="token builtin class-name">:</span> <span class="token string">"sha256:d1165f2212346b2bab48cb01c1e39ee8ad1be46b87873d9ca7a4e434980a7726"</span>,
        <span class="token string">"RepoTags"</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span>
            <span class="token string">"hello-world:latest"</span>
        <span class="token punctuation">]</span>,
        <span class="token string">"RepoDigests"</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span>
            <span class="token string">"hello-world@sha256:5122f6204b6a3596e048758cabba3c46b1c937a46b5be6225b835d091b90e46c"</span>
        <span class="token punctuation">]</span>,
        <span class="token string">"Parent"</span><span class="token builtin class-name">:</span> <span class="token string">""</span>,
        <span class="token string">"Comment"</span><span class="token builtin class-name">:</span> <span class="token string">""</span>,
        <span class="token string">"Created"</span><span class="token builtin class-name">:</span> <span class="token string">"2021-03-05T23:25:25.230064203Z"</span>,
        <span class="token string">"Container"</span><span class="token builtin class-name">:</span> <span class="token string">"f5a78ef54769bb8490754e9e063a89f90cc8eee6a6c5a0a72655826e99df116e"</span>,
        <span class="token string">"ContainerConfig"</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span>
            <span class="token string">"Hostname"</span><span class="token builtin class-name">:</span> <span class="token string">"f5a78ef54769"</span>,
            <span class="token string">"Domainname"</span><span class="token builtin class-name">:</span> <span class="token string">""</span>,
            <span class="token string">"User"</span><span class="token builtin class-name">:</span> <span class="token string">""</span>,
            <span class="token string">"AttachStdin"</span><span class="token builtin class-name">:</span> false,
            <span class="token string">"AttachStdout"</span><span class="token builtin class-name">:</span> false,
            <span class="token string">"AttachStderr"</span><span class="token builtin class-name">:</span> false,
            <span class="token string">"Tty"</span><span class="token builtin class-name">:</span> false,
            <span class="token string">"OpenStdin"</span><span class="token builtin class-name">:</span> false,
            <span class="token string">"StdinOnce"</span><span class="token builtin class-name">:</span> false,
            <span class="token string">"Env"</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span>
                <span class="token string">"PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin"</span>
            <span class="token punctuation">]</span>,
            <span class="token string">"Cmd"</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span>
                <span class="token string">"/bin/sh"</span>,
                <span class="token string">"-c"</span>,
                <span class="token string">"#(nop) "</span>,
                <span class="token string">"CMD [<span class="token entity" title="\&quot;">\"</span>/hello<span class="token entity" title="\&quot;">\"</span>]"</span>
            <span class="token punctuation">]</span>,
            <span class="token string">"Image"</span><span class="token builtin class-name">:</span> <span class="token string">"sha256:77fe0a37fa6ce641a004815f2761a9042618557d253f312cd3da61780e372c8f"</span>,
            <span class="token string">"Volumes"</span><span class="token builtin class-name">:</span> null,
            <span class="token string">"WorkingDir"</span><span class="token builtin class-name">:</span> <span class="token string">""</span>,
            <span class="token string">"Entrypoint"</span><span class="token builtin class-name">:</span> null,
            <span class="token string">"OnBuild"</span><span class="token builtin class-name">:</span> null,
            <span class="token string">"Labels"</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
        <span class="token punctuation">}</span>,
        <span class="token string">"DockerVersion"</span><span class="token builtin class-name">:</span> <span class="token string">"19.03.12"</span>,
        <span class="token string">"Author"</span><span class="token builtin class-name">:</span> <span class="token string">""</span>,
        <span class="token string">"Config"</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span>
            <span class="token string">"Hostname"</span><span class="token builtin class-name">:</span> <span class="token string">""</span>,
            <span class="token string">"Domainname"</span><span class="token builtin class-name">:</span> <span class="token string">""</span>,
            <span class="token string">"User"</span><span class="token builtin class-name">:</span> <span class="token string">""</span>,
            <span class="token string">"AttachStdin"</span><span class="token builtin class-name">:</span> false,
            <span class="token string">"AttachStdout"</span><span class="token builtin class-name">:</span> false,
            <span class="token string">"AttachStderr"</span><span class="token builtin class-name">:</span> false,
            <span class="token string">"Tty"</span><span class="token builtin class-name">:</span> false,
            <span class="token string">"OpenStdin"</span><span class="token builtin class-name">:</span> false,
            <span class="token string">"StdinOnce"</span><span class="token builtin class-name">:</span> false,
            <span class="token string">"Env"</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span>
                <span class="token string">"PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin"</span>
            <span class="token punctuation">]</span>,
            <span class="token string">"Cmd"</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span>
                <span class="token string">"/hello"</span>
            <span class="token punctuation">]</span>,
            <span class="token string">"Image"</span><span class="token builtin class-name">:</span> <span class="token string">"sha256:77fe0a37fa6ce641a004815f2761a9042618557d253f312cd3da61780e372c8f"</span>,
            <span class="token string">"Volumes"</span><span class="token builtin class-name">:</span> null,
            <span class="token string">"WorkingDir"</span><span class="token builtin class-name">:</span> <span class="token string">""</span>,
            <span class="token string">"Entrypoint"</span><span class="token builtin class-name">:</span> null,
            <span class="token string">"OnBuild"</span><span class="token builtin class-name">:</span> null,
            <span class="token string">"Labels"</span><span class="token builtin class-name">:</span> null
        <span class="token punctuation">}</span>,
        <span class="token string">"Architecture"</span><span class="token builtin class-name">:</span> <span class="token string">"amd64"</span>,
        <span class="token string">"Os"</span><span class="token builtin class-name">:</span> <span class="token string">"linux"</span>,
        <span class="token string">"Size"</span><span class="token builtin class-name">:</span> <span class="token number">13336</span>,
        <span class="token string">"VirtualSize"</span><span class="token builtin class-name">:</span> <span class="token number">13336</span>,
        <span class="token string">"GraphDriver"</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span>
            <span class="token string">"Data"</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span>
                <span class="token string">"MergedDir"</span><span class="token builtin class-name">:</span> <span class="token string">"/var/lib/docker/overlay2/780de7dbba67a06f81bbd4e90bf01dbb79656623b604472bcf9d0edaba8687cd/merged"</span>,
                <span class="token string">"UpperDir"</span><span class="token builtin class-name">:</span> <span class="token string">"/var/lib/docker/overlay2/780de7dbba67a06f81bbd4e90bf01dbb79656623b604472bcf9d0edaba8687cd/diff"</span>,
                <span class="token string">"WorkDir"</span><span class="token builtin class-name">:</span> <span class="token string">"/var/lib/docker/overlay2/780de7dbba67a06f81bbd4e90bf01dbb79656623b604472bcf9d0edaba8687cd/work"</span>
            <span class="token punctuation">}</span>,
            <span class="token string">"Name"</span><span class="token builtin class-name">:</span> <span class="token string">"overlay2"</span>
        <span class="token punctuation">}</span>,
        <span class="token string">"RootFS"</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span>
            <span class="token string">"Type"</span><span class="token builtin class-name">:</span> <span class="token string">"layers"</span>,
            <span class="token string">"Layers"</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span>
                <span class="token string">"sha256:f22b99068db93900abe17f7f5e09ec775c2826ecfe9db961fea68293744144bd"</span>
            <span class="token punctuation">]</span>
        <span class="token punctuation">}</span>,
        <span class="token string">"Metadata"</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span>
            <span class="token string">"LastTagTime"</span><span class="token builtin class-name">:</span> <span class="token string">"0001-01-01T00:00:00Z"</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<ul>
<li>docker inspect 容器id/镜像id都可以看嗷！！！</li>
</ul>
<h4 id="进入正在运行的容器"><a href="#进入正在运行的容器" class="headerlink" title="进入正在运行的容器"></a>进入正在运行的容器</h4><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">docker</span> <span class="token builtin class-name">exec</span> -it 容器id /bin/bash
<span class="token function">docker</span> attach 容器id<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<ul>
<li>区别：<ul>
<li>exec，进入容器后开启一个新的终端。</li>
<li>attach，不会启动新的进程，直接进入正在执行的终端。</li>
</ul>
</li>
</ul>
<h4 id="从容器内拷贝文件到主机"><a href="#从容器内拷贝文件到主机" class="headerlink" title="从容器内拷贝文件到主机"></a>从容器内拷贝文件到主机</h4><ul>
<li>要进入容器内再拷贝出来</li>
<li><code>docker cp 容器id:/文件夹/文件 /宿主机内文件夹/文件</code></li>
<li>拷贝是一个手动过程，未来使用 -v 卷的技术，可以实现自动拷贝。</li>
</ul>
<h2 id="小结："><a href="#小结：" class="headerlink" title="小结："></a>小结：</h2><p><img src="https://cdn.jsdelivr.net/gh/alexanderliu-creator/cloudimg/20210523094907.png" alt="image-20210523094900703"></p>
<h2 id="小作业1（部署Nginx）"><a href="#小作业1（部署Nginx）" class="headerlink" title="小作业1（部署Nginx）:"></a>小作业1（部署Nginx）:</h2><blockquote>
<p>Docker安装nginx</p>
</blockquote>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment">#1. docker search 搜索镜像，去dockerhub官网搜索可以看到详细的帮助文档</span>
<span class="token comment">#2. docker pull 下载镜像</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token punctuation">[</span>root@VM-12-10-centos ~<span class="token punctuation">]</span><span class="token comment"># docker pull nginx</span>
Using default tag: latest
latest: Pulling from library/nginx
69692152171a: Pull complete 
49f7d34d62c1: Pull complete 
5f97dc5d71ab: Pull complete 
cfcd0711b93a: Pull complete 
be6172d7651b: Pull complete 
de9813870342: Pull complete 
Digest: sha256:df13abe416e37eb3db4722840dd479b00ba193ac6606e7902331dcea50f4f1f2
Status: Downloaded newer image <span class="token keyword">for</span> nginx:latest
docker.io/library/nginx:latest
<span class="token punctuation">[</span>root@VM-12-10-centos ~<span class="token punctuation">]</span><span class="token comment"># docker images</span>
REPOSITORY    TAG       IMAGE ID       CREATED        SIZE
nginx         latest    f0b8a9a54136   <span class="token number">10</span> days ago    133MB
hello-world   latest    d1165f221234   <span class="token number">2</span> months ago   <span class="token number">13</span>.3kB
centos        latest    300e315adb2f   <span class="token number">5</span> months ago   209MB
<span class="token punctuation">[</span>root@VM-12-10-centos ~<span class="token punctuation">]</span><span class="token comment"># docker run -d --name nginx01 -p 3344:80 nginx</span>
<span class="token comment"># 这里的话对于设置nginx后台运行，宿主机的3344对应容器内的80端口，同时给这个容器命名为nginx01</span>
68b3ef85158ed8d58fd92a6af097fb03c2cbed3a1b4118c27918444639b9de95<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<ul>
<li>上面完成了nginx的下载与部署，下面进行访问测试：</li>
</ul>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token punctuation">[</span>root@VM-12-10-centos ~<span class="token punctuation">]</span><span class="token comment"># docker ps</span>
CONTAINER ID   IMAGE     COMMAND                  CREATED          STATUS          PORTS                                   NAMES
68b3ef85158e   nginx     <span class="token string">"/docker-entrypoint.…"</span>   <span class="token number">22</span> minutes ago   Up <span class="token number">22</span> minutes   <span class="token number">0.0</span>.0.0:3344-<span class="token operator">&gt;</span><span class="token number">80</span>/tcp, :::3344-<span class="token operator">&gt;</span><span class="token number">80</span>/tcp   nginx01
<span class="token punctuation">[</span>root@VM-12-10-centos ~<span class="token punctuation">]</span><span class="token comment"># curl localhost:3344</span>
<span class="token operator">&lt;</span><span class="token operator">!</span>DOCTYPE html<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>html<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>head<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>title<span class="token operator">&gt;</span>Welcome to nginx<span class="token operator">!</span><span class="token operator">&lt;</span>/title<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>style<span class="token operator">&gt;</span>
    body <span class="token punctuation">{</span>
        width: 35em<span class="token punctuation">;</span>
        margin: <span class="token number">0</span> auto<span class="token punctuation">;</span>
        font-family: Tahoma, Verdana, Arial, sans-serif<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token operator">&lt;</span>/style<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>/head<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>body<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>h<span class="token operator"><span class="token file-descriptor important">1</span>&gt;</span>Welcome to nginx<span class="token operator">!</span><span class="token operator">&lt;</span>/h<span class="token operator"><span class="token file-descriptor important">1</span>&gt;</span>
<span class="token operator">&lt;</span>p<span class="token operator">&gt;</span>If you see this page, the nginx web server is successfully installed and
working. Further configuration is required.<span class="token operator">&lt;</span>/p<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>p<span class="token operator">&gt;</span>For online documentation and support please refer to
<span class="token operator">&lt;</span>a <span class="token assign-left variable">href</span><span class="token operator">=</span><span class="token string">"http://nginx.org/"</span><span class="token operator">&gt;</span>nginx.org<span class="token operator">&lt;</span>/a<span class="token operator">&gt;</span>.<span class="token operator">&lt;</span>br/<span class="token operator">&gt;</span>
Commercial support is available at
<span class="token operator">&lt;</span>a <span class="token assign-left variable">href</span><span class="token operator">=</span><span class="token string">"http://nginx.com/"</span><span class="token operator">&gt;</span>nginx.com<span class="token operator">&lt;</span>/a<span class="token operator">&gt;</span>.<span class="token operator">&lt;</span>/p<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>p<span class="token operator">&gt;</span><span class="token operator">&lt;</span>em<span class="token operator">&gt;</span>Thank you <span class="token keyword">for</span> using nginx.<span class="token operator">&lt;</span>/em<span class="token operator">&gt;</span><span class="token operator">&lt;</span>/p<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>/body<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>/html<span class="token operator">&gt;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<ul>
<li>端口暴露的概念图：</li>
</ul>
<p><img src="https://cdn.jsdelivr.net/gh/alexanderliu-creator/cloudimg/20210523110242.png" alt="image-20210523110242571"></p>
<ul>
<li>可以进入nginx容器中查看nginx相关的信息：</li>
</ul>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token punctuation">[</span>root@VM-12-10-centos ~<span class="token punctuation">]</span><span class="token comment"># docker exec -it nginx01 /bin/bash</span>
root@68b3ef85158e:/<span class="token comment"># whereis nginx</span>
nginx: /usr/sbin/nginx /usr/lib/nginx /etc/nginx /usr/share/nginx
root@68b3ef85158e:/<span class="token comment"># cd /etc/nginx</span>
root@68b3ef85158e:/etc/nginx<span class="token comment"># ls</span>
conf.d		koi-utf  mime.types  nginx.conf   uwsgi_params
fastcgi_params	koi-win  modules     scgi_params  win-utf<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<ul>
<li>由于你将本机端口和容器内部端口进行了映射，访问本机端口就可以获得服务，这个时候在服务器配置中开放端口就可以访问到你在对应端口开放的服务。</li>
<li>思考问题：每次改动配置文件都需要进入容器内部十分麻烦。我们要是可以在容器外部提供映射路径，达到在容器外的修改可以同步到容器内，就十分的方便嗷！！！-v 数据卷的技术。</li>
</ul>
<h2 id="小作业2（部署Tomcat）"><a href="#小作业2（部署Tomcat）" class="headerlink" title="小作业2（部署Tomcat）:"></a>小作业2（部署Tomcat）:</h2><ul>
<li>官方文档中提供的安装Tomcat的命令</li>
</ul>
<p><img src="https://cdn.jsdelivr.net/gh/alexanderliu-creator/cloudimg/20210523114616.png" alt="image-20210523114616832"></p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token punctuation">[</span>root@VM-12-10-centos ~<span class="token punctuation">]</span><span class="token comment"># docker run -it --rm tomcat:9.0</span>
Unable to <span class="token function">find</span> image <span class="token string">'tomcat:9.0'</span> locally
<span class="token number">9.0</span>: Pulling from library/tomcat
d960726af2be: Pull complete 
e8d62473a22d: Pull complete 
8962bc0fad55: Pull complete 
65d943ee54c1: Pull complete 
da20b77f10ac: Pull complete 
8669a096f083: Pull complete 
e0c0a5e9ce88: Pull complete 
f7f46169d747: Pull complete 
42d8171e56e6: Pull complete 
774078a3f8bb: Pull complete 
Digest: sha256:10842dab06b5e52233ad977d4689522d4fbaa9c21e6df387d7a530e02316fb45
Status: Downloaded newer image <span class="token keyword">for</span> tomcat:9.0
Using CATALINA_BASE:   /usr/local/tomcat
Using CATALINA_HOME:   /usr/local/tomcat
Using CATALINA_TMPDIR: /usr/local/tomcat/temp
Using JRE_HOME:        /usr/local/openjdk-11
Using CLASSPATH:       /usr/local/tomcat/bin/bootstrap.jar:/usr/local/tomcat/bin/tomcat-juli.jar
Using CATALINA_OPTS:   
NOTE: Picked up JDK_JAVA_OPTIONS:  --add-opens<span class="token operator">=</span>java.base/java.lang<span class="token operator">=</span>ALL-UNNAMED --add-opens<span class="token operator">=</span>java.base/java.io<span class="token operator">=</span>ALL-UNNAMED --add-opens<span class="token operator">=</span>java.base/java.util<span class="token operator">=</span>ALL-UNNAMED --add-opens<span class="token operator">=</span>java.base/java.util.concurrent<span class="token operator">=</span>ALL-UNNAMED --add-opens<span class="token operator">=</span>java.rmi/sun.rmi.transport<span class="token operator">=</span>ALL-UNNAMED
<span class="token number">23</span>-May-2021 03:47:09.425 INFO <span class="token punctuation">[</span>main<span class="token punctuation">]</span> org.apache.catalina.startup.VersionLoggerListener.log Server version name:   Apache Tomcat/9.0.46
<span class="token number">23</span>-May-2021 03:47:09.427 INFO <span class="token punctuation">[</span>main<span class="token punctuation">]</span> org.apache.catalina.startup.VersionLoggerListener.log Server built:          May <span class="token number">8</span> <span class="token number">2021</span> <span class="token number">17</span>:35:52 UTC
<span class="token number">23</span>-May-2021 03:47:09.427 INFO <span class="token punctuation">[</span>main<span class="token punctuation">]</span> org.apache.catalina.startup.VersionLoggerListener.log Server version number: <span class="token number">9.0</span>.46.0
<span class="token number">23</span>-May-2021 03:47:09.427 INFO <span class="token punctuation">[</span>main<span class="token punctuation">]</span> org.apache.catalina.startup.VersionLoggerListener.log OS Name:               Linux
<span class="token number">23</span>-May-2021 03:47:09.427 INFO <span class="token punctuation">[</span>main<span class="token punctuation">]</span> org.apache.catalina.startup.VersionLoggerListener.log OS Version:            <span class="token number">3.10</span>.0-1127.19.1.el7.x86_64
<span class="token number">23</span>-May-2021 03:47:09.427 INFO <span class="token punctuation">[</span>main<span class="token punctuation">]</span> org.apache.catalina.startup.VersionLoggerListener.log Architecture:          amd64
<span class="token number">23</span>-May-2021 03:47:09.428 INFO <span class="token punctuation">[</span>main<span class="token punctuation">]</span> org.apache.catalina.startup.VersionLoggerListener.log Java Home:             /usr/local/openjdk-11
<span class="token number">23</span>-May-2021 03:47:09.428 INFO <span class="token punctuation">[</span>main<span class="token punctuation">]</span> org.apache.catalina.startup.VersionLoggerListener.log JVM Version:           <span class="token number">11.0</span>.11+9
<span class="token number">23</span>-May-2021 03:47:09.428 INFO <span class="token punctuation">[</span>main<span class="token punctuation">]</span> org.apache.catalina.startup.VersionLoggerListener.log JVM Vendor:            Oracle Corporation
<span class="token number">23</span>-May-2021 03:47:09.430 INFO <span class="token punctuation">[</span>main<span class="token punctuation">]</span> org.apache.catalina.startup.VersionLoggerListener.log CATALINA_BASE:         /usr/local/tomcat
<span class="token number">23</span>-May-2021 03:47:09.430 INFO <span class="token punctuation">[</span>main<span class="token punctuation">]</span> org.apache.catalina.startup.VersionLoggerListener.log CATALINA_HOME:         /usr/local/tomcat
<span class="token number">23</span>-May-2021 03:47:09.457 INFO <span class="token punctuation">[</span>main<span class="token punctuation">]</span> org.apache.catalina.startup.VersionLoggerListener.log Command line argument: --add-opens<span class="token operator">=</span>java.base/java.lang<span class="token operator">=</span>ALL-UNNAMED
<span class="token number">23</span>-May-2021 03:47:09.457 INFO <span class="token punctuation">[</span>main<span class="token punctuation">]</span> org.apache.catalina.startup.VersionLoggerListener.log Command line argument: --add-opens<span class="token operator">=</span>java.base/java.io<span class="token operator">=</span>ALL-UNNAMED
<span class="token number">23</span>-May-2021 03:47:09.457 INFO <span class="token punctuation">[</span>main<span class="token punctuation">]</span> org.apache.catalina.startup.VersionLoggerListener.log Command line argument: --add-opens<span class="token operator">=</span>java.base/java.util<span class="token operator">=</span>ALL-UNNAMED
<span class="token number">23</span>-May-2021 03:47:09.457 INFO <span class="token punctuation">[</span>main<span class="token punctuation">]</span> org.apache.catalina.startup.VersionLoggerListener.log Command line argument: --add-opens<span class="token operator">=</span>java.base/java.util.concurrent<span class="token operator">=</span>ALL-UNNAMED
<span class="token number">23</span>-May-2021 03:47:09.457 INFO <span class="token punctuation">[</span>main<span class="token punctuation">]</span> org.apache.catalina.startup.VersionLoggerListener.log Command line argument: --add-opens<span class="token operator">=</span>java.rmi/sun.rmi.transport<span class="token operator">=</span>ALL-UNNAMED
<span class="token number">23</span>-May-2021 03:47:09.457 INFO <span class="token punctuation">[</span>main<span class="token punctuation">]</span> org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.util.logging.config.file<span class="token operator">=</span>/usr/local/tomcat/conf/logging.properties
<span class="token number">23</span>-May-2021 03:47:09.457 INFO <span class="token punctuation">[</span>main<span class="token punctuation">]</span> org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.util.logging.manager<span class="token operator">=</span>org.apache.juli.ClassLoaderLogManager
<span class="token number">23</span>-May-2021 03:47:09.457 INFO <span class="token punctuation">[</span>main<span class="token punctuation">]</span> org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djdk.tls.ephemeralDHKeySize<span class="token operator">=</span><span class="token number">2048</span>
<span class="token number">23</span>-May-2021 03:47:09.458 INFO <span class="token punctuation">[</span>main<span class="token punctuation">]</span> org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.protocol.handler.pkgs<span class="token operator">=</span>org.apache.catalina.webresources
<span class="token number">23</span>-May-2021 03:47:09.458 INFO <span class="token punctuation">[</span>main<span class="token punctuation">]</span> org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dorg.apache.catalina.security.SecurityListener.UMASK<span class="token operator">=</span>0027
<span class="token number">23</span>-May-2021 03:47:09.458 INFO <span class="token punctuation">[</span>main<span class="token punctuation">]</span> org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dignore.endorsed.dirs<span class="token operator">=</span>
<span class="token number">23</span>-May-2021 03:47:09.458 INFO <span class="token punctuation">[</span>main<span class="token punctuation">]</span> org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dcatalina.base<span class="token operator">=</span>/usr/local/tomcat
<span class="token number">23</span>-May-2021 03:47:09.458 INFO <span class="token punctuation">[</span>main<span class="token punctuation">]</span> org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dcatalina.home<span class="token operator">=</span>/usr/local/tomcat
<span class="token number">23</span>-May-2021 03:47:09.458 INFO <span class="token punctuation">[</span>main<span class="token punctuation">]</span> org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.io.tmpdir<span class="token operator">=</span>/usr/local/tomcat/temp
<span class="token number">23</span>-May-2021 03:47:09.468 INFO <span class="token punctuation">[</span>main<span class="token punctuation">]</span> org.apache.catalina.core.AprLifecycleListener.lifecycleEvent Loaded Apache Tomcat Native library <span class="token punctuation">[</span><span class="token number">1.2</span>.28<span class="token punctuation">]</span> using APR version <span class="token punctuation">[</span><span class="token number">1.6</span>.5<span class="token punctuation">]</span>.
<span class="token number">23</span>-May-2021 03:47:09.468 INFO <span class="token punctuation">[</span>main<span class="token punctuation">]</span> org.apache.catalina.core.AprLifecycleListener.lifecycleEvent APR capabilities: IPv6 <span class="token punctuation">[</span>true<span class="token punctuation">]</span>, sendfile <span class="token punctuation">[</span>true<span class="token punctuation">]</span>, accept filters <span class="token punctuation">[</span>false<span class="token punctuation">]</span>, random <span class="token punctuation">[</span>true<span class="token punctuation">]</span>.
<span class="token number">23</span>-May-2021 03:47:09.468 INFO <span class="token punctuation">[</span>main<span class="token punctuation">]</span> org.apache.catalina.core.AprLifecycleListener.lifecycleEvent APR/OpenSSL configuration: useAprConnector <span class="token punctuation">[</span>false<span class="token punctuation">]</span>, useOpenSSL <span class="token punctuation">[</span>true<span class="token punctuation">]</span>
<span class="token number">23</span>-May-2021 03:47:09.478 INFO <span class="token punctuation">[</span>main<span class="token punctuation">]</span> org.apache.catalina.core.AprLifecycleListener.initializeSSL OpenSSL successfully initialized <span class="token punctuation">[</span>OpenSSL <span class="token number">1.1</span>.1d  <span class="token number">10</span> Sep <span class="token number">2019</span><span class="token punctuation">]</span>
<span class="token number">23</span>-May-2021 03:47:10.220 INFO <span class="token punctuation">[</span>main<span class="token punctuation">]</span> org.apache.coyote.AbstractProtocol.init Initializing ProtocolHandler <span class="token punctuation">[</span><span class="token string">"http-nio-8080"</span><span class="token punctuation">]</span>
<span class="token number">23</span>-May-2021 03:47:10.283 INFO <span class="token punctuation">[</span>main<span class="token punctuation">]</span> org.apache.catalina.startup.Catalina.load Server initialization <span class="token keyword">in</span> <span class="token punctuation">[</span><span class="token number">1275</span><span class="token punctuation">]</span> milliseconds
<span class="token number">23</span>-May-2021 03:47:10.390 INFO <span class="token punctuation">[</span>main<span class="token punctuation">]</span> org.apache.catalina.core.StandardService.startInternal Starting <span class="token function">service</span> <span class="token punctuation">[</span>Catalina<span class="token punctuation">]</span>
<span class="token number">23</span>-May-2021 03:47:10.390 INFO <span class="token punctuation">[</span>main<span class="token punctuation">]</span> org.apache.catalina.core.StandardEngine.startInternal Starting Servlet engine: <span class="token punctuation">[</span>Apache Tomcat/9.0.46<span class="token punctuation">]</span>
<span class="token number">23</span>-May-2021 03:47:10.420 INFO <span class="token punctuation">[</span>main<span class="token punctuation">]</span> org.apache.coyote.AbstractProtocol.start Starting ProtocolHandler <span class="token punctuation">[</span><span class="token string">"http-nio-8080"</span><span class="token punctuation">]</span>
<span class="token number">23</span>-May-2021 03:47:10.511 INFO <span class="token punctuation">[</span>main<span class="token punctuation">]</span> org.apache.catalina.startup.Catalina.start Server startup <span class="token keyword">in</span> <span class="token punctuation">[</span><span class="token number">228</span><span class="token punctuation">]</span> milliseconds
^C23-May-2021 03:47:26.727 INFO <span class="token punctuation">[</span>Thread-3<span class="token punctuation">]</span> org.apache.coyote.AbstractProtocol.pause Pausing ProtocolHandler <span class="token punctuation">[</span><span class="token string">"http-nio-8080"</span><span class="token punctuation">]</span>
<span class="token number">23</span>-May-2021 03:47:26.734 INFO <span class="token punctuation">[</span>Thread-3<span class="token punctuation">]</span> org.apache.catalina.core.StandardService.stopInternal Stopping <span class="token function">service</span> <span class="token punctuation">[</span>Catalina<span class="token punctuation">]</span>
<span class="token number">23</span>-May-2021 03:47:26.737 INFO <span class="token punctuation">[</span>Thread-3<span class="token punctuation">]</span> org.apache.coyote.AbstractProtocol.stop Stopping ProtocolHandler <span class="token punctuation">[</span><span class="token string">"http-nio-8080"</span><span class="token punctuation">]</span>
<span class="token number">23</span>-May-2021 03:47:26.783 INFO <span class="token punctuation">[</span>Thread-3<span class="token punctuation">]</span> org.apache.coyote.AbstractProtocol.destroy Destroying ProtocolHandler <span class="token punctuation">[</span><span class="token string">"http-nio-8080"</span><span class="token punctuation">]</span>
<span class="token punctuation">[</span>root@VM-12-10-centos ~<span class="token punctuation">]</span><span class="token comment"># docker ps -a</span>
CONTAINER ID   IMAGE     COMMAND   CREATED   STATUS    PORTS     NAMES<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<ul>
<li><p>我们发现容器跑起来和在Tomcat部署上的一摸一样，这个时候<code>ctrl+c</code>停掉Tomcat服务，<code>docker ps -a</code>显示一下容器我们发现它就没有了！！！</p>
</li>
<li><p>我们这儿不这么跑哈，不太好嗷！！！直接pull , run 起来好一点嗷！！！</p>
</li>
<li><p><code>docker pull tomcat</code></p>
</li>
<li><p><code>docker run -d -p 3344:8080 --name tomcat01 tomcat</code></p>
</li>
<li><p>本地的curl命令和远程访问3344端口都没问题：</p>
</li>
</ul>
<p><img src="https://cdn.jsdelivr.net/gh/alexanderliu-creator/cloudimg/20210523122418.png" alt="image-20210523122418187"></p>
<p>可以看到Apache服务器已经部署成功了！！！</p>
<ul>
<li>进入容器进行查看：</li>
</ul>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token punctuation">[</span>root@VM-12-10-centos ~<span class="token punctuation">]</span><span class="token comment"># docker exec -it tomcat01 /bin/bash</span>
root@57104ebe62bb:/usr/local/tomcat<span class="token comment"># ls</span>
BUILDING.txt	 NOTICE		RUNNING.txt  lib	     temp	   work
CONTRIBUTING.md  README.md	bin	     logs	     webapps
LICENSE		 RELEASE-NOTES	conf	     native-jni-lib  webapps.dist
root@57104ebe62bb:/usr/local/tomcat<span class="token comment"># cd webapps</span>
root@57104ebe62bb:/usr/local/tomcat/webapps<span class="token comment"># ls</span>
root@57104ebe62bb:/usr/local/tomcat/webapps<span class="token comment"># </span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<ul>
<li>发现问题：<ul>
<li>命令被阉割了，类似于ll这样的命令都没有了</li>
<li>webapps底下啥都没有，原因是默认是最小的镜像，所有不必要的就都剔除掉，保证最小可运行的环境。</li>
</ul>
</li>
<li>实际文件藏在webapps.dist文件里面，就是基本的页面，把其复制到webapps中就可以正常跑起来啦！！！</li>
</ul>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">root@57104ebe62bb:/usr/local/tomcat<span class="token comment"># ls webapps</span>
root@57104ebe62bb:/usr/local/tomcat<span class="token comment"># ls webapps.dist/</span>
ROOT  docs  examples  host-manager  manager
root@57104ebe62bb:/usr/local/tomcat<span class="token comment"># cp -r webapps.dist/* webapps</span>
root@57104ebe62bb:/usr/local/tomcat<span class="token comment"># cd webapps</span>
root@57104ebe62bb:/usr/local/tomcat/webapps<span class="token comment"># ls</span>
ROOT  docs  examples  host-manager  manager<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<ul>
<li><p>这个时候无论是本地curl还是远程:3344，都能够访问到apache的初始页面了嗷！！！</p>
</li>
<li><p>思考问题：我们以后部署项目，每次进入容器是不是很麻烦？我要是可以提供一个映射路径：webapps，我们在外部放置项目，就自动同步到内部就好了。</p>
</li>
</ul>
<h2 id="小作业3（部署ES-Kibana）："><a href="#小作业3（部署ES-Kibana）：" class="headerlink" title="小作业3（部署ES+Kibana）："></a>小作业3（部署ES+Kibana）：</h2><p><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1og4y1q7M4?p=16&amp;spm_id_from=pageDriverhttps://www.bilibili.com/video/BV1og4y1q7M4?p=16&amp;spm_id_from=pageDriver">ES+Kibana平台</a></p>
<ul>
<li>比较耗费资源和内存，我这儿不用自己的虚拟机做演示了嗷！！！老师部署的都裂开来！！！</li>
<li>elasticsearch就是我们要下载部署的东西嗷！！！</li>
<li>部署了服务器都顶不住，直接卡住了，一核2G根本顶不住。解决方法：<ul>
<li>停整个docker</li>
<li>服务器直接重启orz</li>
<li>等服务器缓过来</li>
</ul>
</li>
<li>查看状态：<code>docker stats</code>,这是一个比较耗资源的操作嗷：</li>
</ul>
<p><img src="https://cdn.jsdelivr.net/gh/alexanderliu-creator/cloudimg/20210523165526.png" alt="image-20210523165518965"></p>
<ul>
<li>增加内存的限制才可以嗷！！！<ul>
<li><img src="https://cdn.jsdelivr.net/gh/alexanderliu-creator/cloudimg/20210523165857.png" alt="image-20210523165856964"></li>
<li>这里的是-Xms , -Xmx限制的是最大和最小内存。</li>
<li>它的前面的这部分代码上dockerhub去看官网文档的用法嗷！！！</li>
</ul>
</li>
<li>作业：如何使用Kibana去连接ES呢？两者是相互隔离的，就非常顶？？？解决：通过Linux的内网地址，以Linux为中介，去连接ES。</li>
</ul>
<p><img src="https://cdn.jsdelivr.net/gh/alexanderliu-creator/cloudimg/20210523170235.png" alt="image-20210523170234877"></p>
<h1 id="可视化工具："><a href="#可视化工具：" class="headerlink" title="可视化工具："></a>可视化工具：</h1><h2 id="portainer-先用这个-："><a href="#portainer-先用这个-：" class="headerlink" title="portainer(先用这个)："></a>portainer(先用这个)：</h2><ul>
<li>docker的图形化管理工具，提供一个后台面板供我们操作</li>
<li>操作指令：</li>
</ul>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">docker</span> run -d -p <span class="token number">3344</span>:9000 <span class="token punctuation">\</span>
--restart<span class="token operator">=</span>always -v /var/run/docker.sock:/var/run/docker.sock --privileged<span class="token operator">=</span>true portainer/portainer<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<ul>
<li>然后访问3344端口就能够访问到：</li>
</ul>
<p><img src="https://cdn.jsdelivr.net/gh/alexanderliu-creator/cloudimg/20210523171253.png" alt="image-20210523171252987"></p>
<ul>
<li>创建用户之后使用本地的就好啦，很方便嗷！</li>
</ul>
<p><img src="https://cdn.jsdelivr.net/gh/alexanderliu-creator/cloudimg/20210523171425.png" alt="image-20210523171425800"></p>
<p>进入后，可以看到我们的主面板：</p>
<p><img src="https://cdn.jsdelivr.net/gh/alexanderliu-creator/cloudimg/20210523171614.png" alt="image-20210523171614813"></p>
<ul>
<li>可视化面板，挺好用的，就是一般不会用orz。</li>
</ul>
<h2 id="Rancher-CI-x2F-CD再用"><a href="#Rancher-CI-x2F-CD再用" class="headerlink" title="Rancher(CI/CD再用)"></a>Rancher(CI/CD再用)</h2><h1 id="Docker镜像"><a href="#Docker镜像" class="headerlink" title="Docker镜像"></a>Docker镜像</h1><h2 id="镜像是什么"><a href="#镜像是什么" class="headerlink" title="镜像是什么"></a>镜像是什么</h2><ul>
<li>所有的引用直接打包为docker镜像，就可以直接跑起来</li>
<li>得到镜像：<ul>
<li>远程仓库下载</li>
<li>朋友拷贝给你</li>
<li>自己制作一个镜像dockerfile</li>
</ul>
</li>
</ul>
<h2 id="镜像加载原理（层级的概念）"><a href="#镜像加载原理（层级的概念）" class="headerlink" title="镜像加载原理（层级的概念）"></a>镜像加载原理（层级的概念）</h2><ul>
<li><code>Union File System</code>，联合文件系统，是一种分层，轻量级并且高性能的文件系统，它支持对于文件系统的修改作为一次提交来一层层叠加。同时可以把不同目录挂载到同一个虚拟文件系统下。镜像可以通过分层来进行集成，基于基础镜像，可以制作各种具体的应用镜像。</li>
<li>精简的OS，所以可以很小，底层使用的是Host的kernel，因此为秒级启动。</li>
<li>有点像windows里面的更新补丁，盖中盖。</li>
</ul>
<p><img src="https://cdn.jsdelivr.net/gh/alexanderliu-creator/cloudimg/20210523190339.png" alt="image-20210523190339127"></p>
<ul>
<li>分层下载可以复用相同的层。这里注意一下，下面这个很重要，我们不可以写只读的镜像，我们只可以操作启动的容器，相当于在镜像上面多加了一层容器层进行操作，新的这一整个整体可以被打包为一个全新的镜像嗷！！！</li>
</ul>
<p><img src="https://cdn.jsdelivr.net/gh/alexanderliu-creator/cloudimg/20210523190514.png" alt="image-20210523190514390"></p>
<p><img src="https://cdn.jsdelivr.net/gh/alexanderliu-creator/cloudimg/20210523190752.png" alt="image-20210523190752317"></p>
<h2 id="commit镜像"><a href="#commit镜像" class="headerlink" title="commit镜像"></a>commit镜像</h2><ul>
<li><p><code>docker commit -m="提交的信息" -a="作者" 容器id 目标镜像名: [TAG]</code></p>
</li>
<li><p>命令和git类似</p>
</li>
<li><p>实战测试：</p>
<ul>
<li><ol>
<li>启动一个默认的Tomcat</li>
</ol>
</li>
<li><ol start="2">
<li>没有webapps应用，官方默认webapps里面是没有东西的</li>
</ol>
</li>
<li><ol start="3">
<li>我自己向webapps里面拷贝了webapps.disk里面的全部文件。</li>
</ol>
</li>
<li><ol start="4">
<li>这个时候提交一下我们修改的内容打包成一个镜像嗷！！！</li>
</ol>
</li>
<li><p>```shell<br>docker commit -a=”tuzi”  -m=”add webapps app” 7e119b82cff6 tomcat02:1.0</p>
<pre class="line-numbers language-none"><code class="language-none">
- 这个时候就从容器创建了一个镜像，docker images是可以看到你这里生成的镜像的嗷！！！我们以后就可以使用我们自己修改过的镜像。这个就相当于我们学习过的概念snapshot。

- 先理解概念，然后概念和实践相互集合一把拿下。以后项目开发就可以通过commit不断向已有的镜像中添加新的容器层再打包为新的镜像。





# Docker精通



## Docker数据卷

### 什么是容器数据卷

- 将应用和环境打包为一个镜像。
- 数据？如果数据都在容器中，我们删除容器数据就会丢失。**需求：数据持久化**。
- MySQL之类的数据在容器中是不安全的，需要数据共享，将容器中的数据可以导出来保存嗷！！！
- 容器之间可以有一个数据共享的技术！Docker容器中产生的数据同步到本地！！！
- 卷技术，本质上是目录的挂载，将容器内的目录挂载在Linux上。

![image-20210524095038844](https://cdn.jsdelivr.net/gh/alexanderliu-creator/cloudimg/20210524095046.png)

容器中的数据自动同步到Linux文件夹上。

- 总结一句话：
  - 容器的持久化和同步操作
  - 容器间也是可以数据共享的



### 使用数据卷

&gt; 方式一：使用命令来挂载

- 命令格式：

`docker run -it -v 主机目录:容器内目录`

这个和上面学的-p也很类似哦，-p是端口映射，-v是目录映射。挂在完成之后，以后容器内目录中的内容都会自动和主机目录的内容同步嗷！！！

- 为了查看挂载是否成功，可以使用docker inspect 容器id来查看容器状态，里面有个属性说明了挂载的内容的状态：

![image-20210524095842507](https://cdn.jsdelivr.net/gh/alexanderliu-creator/cloudimg/20210524095842.png)

- 可以理解为双向绑定？？？？ ---&gt;   对，就是这么理解的
- 好处：
  - 修改只需要在本地修改即可，不需要进入容器中修改



### 实战：安装MySQL

- MySQL数据持久化的问题
- 注意：MySQL配置的时候需要账号和密码嗷！！！具体怎么设置的话，可以上官网去康康嗷！！！

![image-20210524102556491](https://cdn.jsdelivr.net/gh/alexanderliu-creator/cloudimg/20210524102603.png)

- 启动成功之后，可以通过你云服务器主机的ip和密码访问到远程的mysql，就和你本地的Database建立连接没啥区别。IDEA里面的Database就提供了这样的连接功能，VSCode也有嗷！！！
- 本地测试一个新的数据库，映射路径都是ok的嗷！！！
- 就算删掉MySQL容器的话，挂载到本地的数据卷中的数据还在哈！！！



### 具名挂载和匿名挂载

- docker volume:

```shell
[root@VM-12-10-centos ~]# docker volume --help

Usage:  docker volume COMMAND

Manage volumes

Commands:
  create      Create a volume
  inspect     Display detailed information on one or more volumes
  ls          List volumes
  prune       Remove all unused local volumes
  rm          Remove one or more volumes

Run 'docker volume COMMAND --help' for more information on a command.
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>
</ul>
</li>
<li><p>这个volume就是我们所说的卷 -v 的来源</p>
</li>
<li><p>查看所有卷的情况：</p>
<ul>
<li>docker volume ls</li>
</ul>
</li>
</ul>
<h4 id="匿名挂载："><a href="#匿名挂载：" class="headerlink" title="匿名挂载："></a>匿名挂载：</h4><ul>
<li>-v的时候，只指定了指定容器里内目录，不指定容器外目录。</li>
<li><code>docker run -d -P --name nginx02 -v /etc/nginx nginx</code></li>
</ul>
<h4 id="具名挂载："><a href="#具名挂载：" class="headerlink" title="具名挂载："></a>具名挂载：</h4><ul>
<li><p>-v的时候，没有给路径，只给了个名字</p>
</li>
<li><p><code>docker run -d -P --name nginx02 -v juming-nginx:/etc/nginx nginx</code></p>
</li>
<li><p>卷名:容器内路径</p>
</li>
<li><p>docker volume ls，是可以看到这个名字的相关信息的嗷！！！</p>
</li>
<li><p><img src="https://cdn.jsdelivr.net/gh/alexanderliu-creator/cloudimg/20210524104347.png" alt="image-20210524104347307"></p>
</li>
</ul>
<h4 id="Summary："><a href="#Summary：" class="headerlink" title="Summary："></a>Summary：</h4><ul>
<li>所有docker内的卷，没有指定目录的情况下，都是在<code>/var/lib/docker/volumes/xxxx/_data</code>下的。</li>
<li>这个xxxx如果是匿名挂载就是一个id，如果是具名挂载就是你的命名。</li>
<li>具名挂载是最常用的，可以方便找到我们的一个卷，大多情况在使用具名挂载。</li>
<li>如何确定是具名挂载还是匿名挂载，还是指定路径挂载？<ul>
<li>-v   容器内路径</li>
<li>-v   卷名:容器内路径</li>
<li>-v   宿主机路径:容器内路径</li>
</ul>
</li>
<li>同时甚至可以设置权限：<ul>
<li><img src="https://cdn.jsdelivr.net/gh/alexanderliu-creator/cloudimg/20210524104914.png" alt="image-20210524104914282"></li>
<li>注意哈，权限是对于容器中的内容来说的，例如ro说明这个路径只能通过宿主机来操作，容器内是无法操作的嗷！！！</li>
</ul>
</li>
</ul>
<h2 id="初识DockerFile"><a href="#初识DockerFile" class="headerlink" title="初识DockerFile"></a>初识DockerFile</h2><h3 id="采用Dockerfile进行挂载："><a href="#采用Dockerfile进行挂载：" class="headerlink" title="采用Dockerfile进行挂载："></a>采用Dockerfile进行挂载：</h3><ul>
<li>commit是通过容器生成镜像，如果我想自己从头生成一个镜像呢？？？</li>
<li>DockerFile就是用来构造docker镜像的构建文件，命令脚本。镜像是一层一层的，脚本就是一个一个的命令。</li>
</ul>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">FROM centos

VOLUMN <span class="token punctuation">[</span><span class="token string">"volume01"</span>,<span class="token string">"volume02"</span><span class="token punctuation">]</span>

CMD <span class="token builtin class-name">echo</span> <span class="token string">"......end......"</span>
CMD /bin/bash<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<ul>
<li>上面这里是个例子，第一行指定环境，第二行指定挂载的卷，就是其实就是匿名指定嗷！！！这里只说明了容器内的名字嘛！！！</li>
<li><code>docker build -f /home/tuzi/dockerfile1 -t tuzi/centos:1.0 .</code></li>
<li>上面这里-f是指文件的位置，-t指的是target，也就是生成的目标位置，最后的.表示当前目录下。</li>
<li>注意这里的名字前面不能有/哈，dockerfile文件名字最好为Dockerfile。文件中的内容，指令大写嗷。</li>
<li>这里的每个命令是镜像的一层！！！</li>
<li>这种方式使用的非常多！！！一般都构建自己的镜像，如果没有的话就需要我们手动镜像挂载！！！</li>
</ul>
<h3 id="数据卷容器："><a href="#数据卷容器：" class="headerlink" title="数据卷容器："></a>数据卷容器：</h3><h4 id="多个MySQL数据同步："><a href="#多个MySQL数据同步：" class="headerlink" title="多个MySQL数据同步："></a>多个MySQL数据同步：</h4><p><img src="https://cdn.jsdelivr.net/gh/alexanderliu-creator/cloudimg/20210524150702.png" alt="image-20210524150655723"></p>
<ul>
<li>下面这个就是一个例子：</li>
</ul>
<p><img src="https://cdn.jsdelivr.net/gh/alexanderliu-creator/cloudimg/20210524150900.png" alt="image-20210524150900230"></p>
<ul>
<li>甚至可以多个容器之间采用同样的方式进行挂载。只要通过这种方式就能够实现容器之间的数据共享。</li>
<li>删除了其中一个容器，其他的容器还使用着卷，这其他卷中的数据是不会丢失的嗷！！！</li>
<li>结论：容器之间，可以配置信息的传递。容器卷的生命周期一致持续到没有容器使用为止。一旦持久化到了本地，本地的数据就是持久化的，不会随着容器被删除完而消失嗷！！！</li>
</ul>
<h3 id="Dockerfile介绍："><a href="#Dockerfile介绍：" class="headerlink" title="Dockerfile介绍："></a>Dockerfile介绍：</h3><ul>
<li><p>构建步骤：</p>
<ul>
<li>构建dockerfile 文件</li>
<li>docker build 构建一个镜像</li>
<li>docker run 运行镜像</li>
<li>docker push 发布镜像(DockerHub , 阿里云镜像仓库)</li>
</ul>
</li>
<li><p>很多官方镜像都是基础包，很多功能没有，我们通常需要自己来配置我们的环境！！！</p>
</li>
<li><p>基础知识：</p>
<ul>
<li>每个保留关键字必须是大写字母</li>
<li>执行从上往下执行</li>
<li># 表示注释</li>
<li>每一个指令都会提交一个新的镜像层，并且提交。</li>
</ul>
</li>
<li><p>整体结构：</p>
</li>
</ul>
<p><img src="https://cdn.jsdelivr.net/gh/alexanderliu-creator/cloudimg/20210524152140.png" alt="image-20210524152140558"></p>
<ul>
<li>面向开发的，我们以后要发布项目，做镜像，就需要编写dockerfile文件，这个文件十分简单。镜像就是我们要最终发布和运行的产品。</li>
<li>Docker容器就是镜像运行起来提供服务的嗷！！！</li>
</ul>
<h3 id="Dockerfile指令说明："><a href="#Dockerfile指令说明：" class="headerlink" title="Dockerfile指令说明："></a>Dockerfile指令说明：</h3><p><img src="https://cdn.jsdelivr.net/gh/alexanderliu-creator/cloudimg/20210524152518.png" alt="image-20210524152518215"></p>
<h4 id="FROM"><a href="#FROM" class="headerlink" title="FROM"></a>FROM</h4><ul>
<li>基础镜像，一切从这里开始</li>
</ul>
<h4 id="MAINTAINER"><a href="#MAINTAINER" class="headerlink" title="MAINTAINER"></a>MAINTAINER</h4><ul>
<li>镜像是谁写的，姓名+邮箱</li>
</ul>
<h4 id="RUN"><a href="#RUN" class="headerlink" title="RUN"></a>RUN</h4><ul>
<li>镜像构建的时候运行的命令</li>
</ul>
<h4 id="ADD"><a href="#ADD" class="headerlink" title="ADD"></a>ADD</h4><ul>
<li>步骤：添加Tomcat镜像：<ul>
<li>Centos有了,Tomcat呢？</li>
<li>加入Tomcat包才能用哇！！！</li>
</ul>
</li>
</ul>
<h4 id="WORKDIR"><a href="#WORKDIR" class="headerlink" title="WORKDIR"></a>WORKDIR</h4><ul>
<li>镜像的工作目录，指定工作的目录</li>
</ul>
<h4 id="VOLUME"><a href="#VOLUME" class="headerlink" title="VOLUME"></a>VOLUME</h4><ul>
<li>挂载的目录</li>
</ul>
<h4 id="EXPOSE"><a href="#EXPOSE" class="headerlink" title="EXPOSE"></a>EXPOSE</h4><ul>
<li>暴露端口，端口配置</li>
</ul>
<h4 id="CMD"><a href="#CMD" class="headerlink" title="CMD"></a>CMD</h4><ul>
<li><p>指定容器启动的时候要运行的命令</p>
</li>
<li><p>只有最后一个会生效，可被替代</p>
</li>
</ul>
<h4 id="ENTRYPOINT"><a href="#ENTRYPOINT" class="headerlink" title="ENTRYPOINT"></a>ENTRYPOINT</h4><ul>
<li>指定容器启动的时候要运行的命令</li>
<li>可以追加命令</li>
</ul>
<h4 id="ONBUILD"><a href="#ONBUILD" class="headerlink" title="ONBUILD"></a>ONBUILD</h4><ul>
<li>构建一个被继承的时候，Dockerfile会运行ONBUILD指令，触发指令。</li>
</ul>
<h4 id="COPY"><a href="#COPY" class="headerlink" title="COPY"></a>COPY</h4><ul>
<li>类似于add,将我们的文件拷贝到镜像中</li>
</ul>
<h4 id="ENV"><a href="#ENV" class="headerlink" title="ENV"></a>ENV</h4><ul>
<li>构建的时候设置环境变量</li>
</ul>
<h3 id="实战测试："><a href="#实战测试：" class="headerlink" title="实战测试："></a>实战测试：</h3><ul>
<li>非常基础的镜像：scratch , 连CentOS系统都是由它构建的嗷！！！Docker Hub中99%的镜像都是由这个镜像过来的。</li>
</ul>
<blockquote>
<p>创建一个自己的CentOS</p>
</blockquote>
<ul>
<li>由于原来的镜像中很多指令类似于pwd , vim都没有，我们创建一个有这些东西的镜像。</li>
</ul>
<ol>
<li>编写配置文件：</li>
</ol>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token punctuation">[</span>root@VM-12-10-centos dockerfile<span class="token punctuation">]</span><span class="token comment"># cat mydockerfile </span>
FROM centos
MAINTAINER tuzi<span class="token operator">&lt;</span><span class="token number">2632746476</span>@qq.com<span class="token operator">&gt;</span>

ENV MYPATH /usr/local
WORKDIR <span class="token variable">$MYPATH</span>

RUN yum -y <span class="token function">install</span> <span class="token function">vim</span>
RUN yum -y <span class="token function">install</span> net-tools

EXPOSE <span class="token number">3344</span>

CMD <span class="token builtin class-name">echo</span> <span class="token variable">$MYPATH</span>
CMD <span class="token builtin class-name">echo</span> <span class="token string">"-----end-----"</span>
CMD /bin/bash<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<ol start="2">
<li>构建镜像：</li>
</ol>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token punctuation">[</span>root@VM-12-10-centos dockerfile<span class="token punctuation">]</span><span class="token comment"># docker build -f mydockerfile -t mycentos:0.1 .</span>
Sending build context to Docker daemon  <span class="token number">2</span>.048kB
Step <span class="token number">1</span>/10 <span class="token builtin class-name">:</span> FROM centos
 ---<span class="token operator">&gt;</span> 300e315adb2f
Step <span class="token number">2</span>/10 <span class="token builtin class-name">:</span> MAINTAINER tuzi<span class="token operator">&lt;</span><span class="token number">2632746476</span>@qq.com<span class="token operator">&gt;</span>
 ---<span class="token operator">&gt;</span> Using cache
 ---<span class="token operator">&gt;</span> b7b887b8d1d9
Step <span class="token number">3</span>/10 <span class="token builtin class-name">:</span> ENV MYPATH /usr/local
 ---<span class="token operator">&gt;</span> Using cache
 ---<span class="token operator">&gt;</span> a93da34898df
Step <span class="token number">4</span>/10 <span class="token builtin class-name">:</span> WORKDIR <span class="token variable">$MYPATH</span>
 ---<span class="token operator">&gt;</span> Using cache
 ---<span class="token operator">&gt;</span> aeb1cad8b76e
Step <span class="token number">5</span>/10 <span class="token builtin class-name">:</span> RUN yum -y <span class="token function">install</span> <span class="token function">vim</span>
 ---<span class="token operator">&gt;</span> Running <span class="token keyword">in</span> e77104a1f8bf
CentOS Linux <span class="token number">8</span> - AppStream                      <span class="token number">1.5</span> MB/s <span class="token operator">|</span> <span class="token number">6.3</span> MB     00:04    
CentOS Linux <span class="token number">8</span> - BaseOS                         <span class="token number">419</span> kB/s <span class="token operator">|</span> <span class="token number">2.3</span> MB     00:05    
CentOS Linux <span class="token number">8</span> - Extras                          <span class="token number">20</span> kB/s <span class="token operator">|</span> <span class="token number">9.6</span> kB     00:00    
Dependencies resolved.
<span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span>
 Package             Arch        Version                   Repository      Size
<span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span>
Installing:
 vim-enhanced        x86_64      <span class="token number">2</span>:8.0.1763-15.el8         appstream      <span class="token number">1.4</span> M
Installing dependencies:
 gpm-libs            x86_64      <span class="token number">1.20</span>.7-15.el8             appstream       <span class="token number">39</span> k
 vim-common          x86_64      <span class="token number">2</span>:8.0.1763-15.el8         appstream      <span class="token number">6.3</span> M
 vim-filesystem      noarch      <span class="token number">2</span>:8.0.1763-15.el8         appstream       <span class="token number">48</span> k
 <span class="token function">which</span>               x86_64      <span class="token number">2.21</span>-12.el8               baseos          <span class="token number">49</span> k

Transaction Summary
<span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span>
Install  <span class="token number">5</span> Packages

Total download size: <span class="token number">7.8</span> M
Installed size: <span class="token number">30</span> M
Downloading Packages:
<span class="token punctuation">(</span><span class="token number">1</span>/5<span class="token punctuation">)</span>: gpm-libs-1.20.7-15.el8.x86_64.rpm        <span class="token number">680</span> kB/s <span class="token operator">|</span>  <span class="token number">39</span> kB     00:00    
<span class="token punctuation">(</span><span class="token number">2</span>/5<span class="token punctuation">)</span>: vim-filesystem-8.0.1763-15.el8.noarch.rp <span class="token number">360</span> kB/s <span class="token operator">|</span>  <span class="token number">48</span> kB     00:00    
<span class="token punctuation">(</span><span class="token number">3</span>/5<span class="token punctuation">)</span>: vim-enhanced-8.0.1763-15.el8.x86_64.rpm  <span class="token number">1.3</span> MB/s <span class="token operator">|</span> <span class="token number">1.4</span> MB     00:01    
<span class="token punctuation">(</span><span class="token number">4</span>/5<span class="token punctuation">)</span>: which-2.21-12.el8.x86_64.rpm              <span class="token number">15</span> kB/s <span class="token operator">|</span>  <span class="token number">49</span> kB     00:03    
<span class="token punctuation">(</span><span class="token number">5</span>/5<span class="token punctuation">)</span>: vim-common-8.0.1763-15.el8.x86_64.rpm    <span class="token number">1.3</span> MB/s <span class="token operator">|</span> <span class="token number">6.3</span> MB     00:05    
--------------------------------------------------------------------------------
Total                                           <span class="token number">1.3</span> MB/s <span class="token operator">|</span> <span class="token number">7.8</span> MB     00:05     
warning: /var/cache/dnf/appstream-02e86d1c976ab532/packages/gpm-libs-1.20.7-15.el8.x86_64.rpm: Header V3 RSA/SHA256 Signature, key ID 8483c65d: NOKEY
CentOS Linux <span class="token number">8</span> - AppStream                      <span class="token number">1.6</span> MB/s <span class="token operator">|</span> <span class="token number">1.6</span> kB     00:00    
Importing GPG key 0x8483C65D:
 Userid     <span class="token builtin class-name">:</span> <span class="token string">"CentOS (CentOS Official Signing Key) &lt;security@centos.org&gt;"</span>
 Fingerprint: 99DB 70FA E1D7 CE22 7FB6 <span class="token number">4882</span> 05B5 55B3 <span class="token number">8483</span> C65D
 From       <span class="token builtin class-name">:</span> /etc/pki/rpm-gpg/RPM-GPG-KEY-centosofficial
Key imported successfully
Running transaction check
Transaction check succeeded.
Running transaction <span class="token builtin class-name">test</span>
Transaction <span class="token builtin class-name">test</span> succeeded.
Running transaction
  Preparing        <span class="token builtin class-name">:</span>                                                        <span class="token number">1</span>/1 
  Installing       <span class="token builtin class-name">:</span> which-2.21-12.el8.x86_64                               <span class="token number">1</span>/5 
  Installing       <span class="token builtin class-name">:</span> vim-filesystem-2:8.0.1763-15.el8.noarch                <span class="token number">2</span>/5 
  Installing       <span class="token builtin class-name">:</span> vim-common-2:8.0.1763-15.el8.x86_64                    <span class="token number">3</span>/5 
  Installing       <span class="token builtin class-name">:</span> gpm-libs-1.20.7-15.el8.x86_64                          <span class="token number">4</span>/5 
  Running scriptlet: gpm-libs-1.20.7-15.el8.x86_64                          <span class="token number">4</span>/5 
  Installing       <span class="token builtin class-name">:</span> vim-enhanced-2:8.0.1763-15.el8.x86_64                  <span class="token number">5</span>/5 
  Running scriptlet: vim-enhanced-2:8.0.1763-15.el8.x86_64                  <span class="token number">5</span>/5 
  Running scriptlet: vim-common-2:8.0.1763-15.el8.x86_64                    <span class="token number">5</span>/5 
  Verifying        <span class="token builtin class-name">:</span> gpm-libs-1.20.7-15.el8.x86_64                          <span class="token number">1</span>/5 
  Verifying        <span class="token builtin class-name">:</span> vim-common-2:8.0.1763-15.el8.x86_64                    <span class="token number">2</span>/5 
  Verifying        <span class="token builtin class-name">:</span> vim-enhanced-2:8.0.1763-15.el8.x86_64                  <span class="token number">3</span>/5 
  Verifying        <span class="token builtin class-name">:</span> vim-filesystem-2:8.0.1763-15.el8.noarch                <span class="token number">4</span>/5 
  Verifying        <span class="token builtin class-name">:</span> which-2.21-12.el8.x86_64                               <span class="token number">5</span>/5 

Installed:
  gpm-libs-1.20.7-15.el8.x86_64         vim-common-2:8.0.1763-15.el8.x86_64    
  vim-enhanced-2:8.0.1763-15.el8.x86_64 vim-filesystem-2:8.0.1763-15.el8.noarch
  which-2.21-12.el8.x86_64             

Complete<span class="token operator">!</span>
Removing intermediate container e77104a1f8bf
 ---<span class="token operator">&gt;</span> 77e4b03443f6
Step <span class="token number">6</span>/10 <span class="token builtin class-name">:</span> RUN yum -y <span class="token function">install</span> net-tools
 ---<span class="token operator">&gt;</span> Running <span class="token keyword">in</span> 9c36b34f901a
Last metadata expiration check: <span class="token number">0</span>:00:12 ago on Mon May <span class="token number">24</span> 07:44:53 <span class="token number">2021</span>.
Dependencies resolved.
<span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span>
 Package         Architecture Version                        Repository    Size
<span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span>
Installing:
 net-tools       x86_64       <span class="token number">2.0</span>-0.52.20160912git.el8       baseos       <span class="token number">322</span> k

Transaction Summary
<span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span>
Install  <span class="token number">1</span> Package

Total download size: <span class="token number">322</span> k
Installed size: <span class="token number">942</span> k
Downloading Packages:
net-tools-2.0-0.52.20160912git.el8.x86_64.rpm    <span class="token number">56</span> kB/s <span class="token operator">|</span> <span class="token number">322</span> kB     00:05    
--------------------------------------------------------------------------------
Total                                            <span class="token number">46</span> kB/s <span class="token operator">|</span> <span class="token number">322</span> kB     00:07     
Running transaction check
Transaction check succeeded.
Running transaction <span class="token builtin class-name">test</span>
Transaction <span class="token builtin class-name">test</span> succeeded.
Running transaction
  Preparing        <span class="token builtin class-name">:</span>                                                        <span class="token number">1</span>/1 
  Installing       <span class="token builtin class-name">:</span> net-tools-2.0-0.52.20160912git.el8.x86_64              <span class="token number">1</span>/1 
  Running scriptlet: net-tools-2.0-0.52.20160912git.el8.x86_64              <span class="token number">1</span>/1 
  Verifying        <span class="token builtin class-name">:</span> net-tools-2.0-0.52.20160912git.el8.x86_64              <span class="token number">1</span>/1 

Installed:
  net-tools-2.0-0.52.20160912git.el8.x86_64                                     

Complete<span class="token operator">!</span>
Removing intermediate container 9c36b34f901a
 ---<span class="token operator">&gt;</span> 5aa957293560
Step <span class="token number">7</span>/10 <span class="token builtin class-name">:</span> EXPOSE <span class="token number">3344</span>
 ---<span class="token operator">&gt;</span> Running <span class="token keyword">in</span> 5337e93b278e
Removing intermediate container 5337e93b278e
 ---<span class="token operator">&gt;</span> 24a3cf5703dd
Step <span class="token number">8</span>/10 <span class="token builtin class-name">:</span> CMD <span class="token builtin class-name">echo</span> <span class="token variable">$MYPATH</span>
 ---<span class="token operator">&gt;</span> Running <span class="token keyword">in</span> 0b0ee9826aed
Removing intermediate container 0b0ee9826aed
 ---<span class="token operator">&gt;</span> e990f552ebff
Step <span class="token number">9</span>/10 <span class="token builtin class-name">:</span> CMD <span class="token builtin class-name">echo</span> <span class="token string">"-----end-----"</span>
 ---<span class="token operator">&gt;</span> Running <span class="token keyword">in</span> 06b75cec4a71
Removing intermediate container 06b75cec4a71
 ---<span class="token operator">&gt;</span> 095dbd389dcc
Step <span class="token number">10</span>/10 <span class="token builtin class-name">:</span> CMD /bin/bash
 ---<span class="token operator">&gt;</span> Running <span class="token keyword">in</span> 84b5d1acc86b
Removing intermediate container 84b5d1acc86b
 ---<span class="token operator">&gt;</span> 8eb39247efa4
Successfully built 8eb39247efa4
Successfully tagged mycentos:0.1<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<ul>
<li><p>注意build最后有个点哈！！！有的它就直接使用，没有的它就去下载。</p>
</li>
<li><p><img src="https://cdn.jsdelivr.net/gh/alexanderliu-creator/cloudimg/20210524154755.png" alt="image-20210524154755515"></p>
</li>
<li><p>验证过后发现，vim ,  ifconfig , pwd都是设置正确的嗷！</p>
</li>
<li><p>解锁新指令：docker history imageID：</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token punctuation">[</span>root@VM-12-10-centos dockerfile<span class="token punctuation">]</span><span class="token comment"># docker history 8eb39247efa4</span>
IMAGE          CREATED         CREATED BY                                      SIZE      COMMENT
8eb39247efa4   <span class="token number">6</span> minutes ago   /bin/sh -c <span class="token comment">#(nop)  CMD ["/bin/sh" "-c" "/bin…   0B        </span>
095dbd389dcc   <span class="token number">6</span> minutes ago   /bin/sh -c <span class="token comment">#(nop)  CMD ["/bin/sh" "-c" "echo…   0B        </span>
e990f552ebff   <span class="token number">6</span> minutes ago   /bin/sh -c <span class="token comment">#(nop)  CMD ["/bin/sh" "-c" "echo…   0B        </span>
24a3cf5703dd   <span class="token number">6</span> minutes ago   /bin/sh -c <span class="token comment">#(nop)  EXPOSE 3344                  0B        </span>
5aa957293560   <span class="token number">6</span> minutes ago   /bin/sh -c yum -y <span class="token function">install</span> net-tools             <span class="token number">23</span>.3MB    
77e4b03443f6   <span class="token number">6</span> minutes ago   /bin/sh -c yum -y <span class="token function">install</span> <span class="token function">vim</span>                   58MB      
aeb1cad8b76e   <span class="token number">7</span> minutes ago   /bin/sh -c <span class="token comment">#(nop) WORKDIR /usr/local            0B        </span>
a93da34898df   <span class="token number">7</span> minutes ago   /bin/sh -c <span class="token comment">#(nop)  ENV MYPATH=/usr/local        0B        </span>
b7b887b8d1d9   <span class="token number">7</span> minutes ago   /bin/sh -c <span class="token comment">#(nop)  MAINTAINER tuzi&lt;263274647…   0B        </span>
300e315adb2f   <span class="token number">5</span> months ago    /bin/sh -c <span class="token comment">#(nop)  CMD ["/bin/bash"]            0B        </span>
<span class="token operator">&lt;</span>missing<span class="token operator">&gt;</span>      <span class="token number">5</span> months ago    /bin/sh -c <span class="token comment">#(nop)  LABEL org.label-schema.sc…   0B        </span>
<span class="token operator">&lt;</span>missing<span class="token operator">&gt;</span>      <span class="token number">5</span> months ago    /bin/sh -c <span class="token comment">#(nop) ADD file:bd7a2aed6ede423b7…   209MB     </span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<ul>
<li>通过history可以看看镜像是怎么做出来的嗷！！！</li>
</ul>
</li>
</ul>
<h2 id=""><a href="#" class="headerlink" title=""></a></h2><h3 id="CMD和ENTRYPOINT的区别："><a href="#CMD和ENTRYPOINT的区别：" class="headerlink" title="CMD和ENTRYPOINT的区别："></a>CMD和ENTRYPOINT的区别：</h3><ul>
<li>CMD可以执行多个的嗷：</li>
</ul>
<p><code>CMD ["ls","-a"]</code></p>
<ul>
<li><p>在你run的时候，只有最后一个cmd指令生效</p>
</li>
<li><p>CMD中，如果你想用<code>docker run test -l</code>这种形式的话，-l会替换掉上面的ls -a，指令出错，无法拼接在指令后面orz。</p>
</li>
<li><p>ENTRYPOINT则可以让它在我们编写的内容后面添加。</p>
</li>
</ul>
<p><code>ENTRYPOINT ["ls","-a"]</code></p>
<ul>
<li><p>这个时候如果你要和上面一样跑起来，这个指令则添加到我们的ENTRYPOINT后面，变为ls -al，这就是这两者的区别。</p>
</li>
<li><p>DOCKERFILE中很多相似的命令，最好的方法就是去实践并且对比结果。</p>
</li>
</ul>
<h3 id="实例：Tomcat镜像"><a href="#实例：Tomcat镜像" class="headerlink" title="实例：Tomcat镜像"></a>实例：Tomcat镜像</h3><ul>
<li><p>这个我没有实操嗷，因为我这儿没有Tomcat和JDK的压缩包，这儿就没有再去下载完成这个任务！！！</p>
</li>
<li><p>步骤：</p>
<ol>
<li>准备镜像文件tomcat压缩包，jdk压缩包</li>
<li>编写dockerfile压缩包（官方命名为Dockerfile，如果是这个名字的话-f就可以不需要这个参数，会默认去寻找这个名字的文件来进行build）。</li>
</ol>
</li>
<li><p>注意哈，在dockerfile里面使用add添加文件后，如果它的压缩包，docker会自动帮你解压嗷！！！</p>
</li>
<li><p>注意最后那个.哈，比如你要add导入一些文件，你可以先切到对应的文件目录之下，然后直接用文件名导入即可。这样做非常简单，最后的 . 其实就指定了在当前目录下去寻找文件。</p>
</li>
</ul>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">FROM centos
MAINTAINER tuzi<span class="token operator">&lt;</span><span class="token number">2632746476</span>@qq.com<span class="token operator">&gt;</span>

<span class="token comment">#复制本机的文件进入容器中</span>
COPY readme.txt /usr/1oca1/readme.txt
ADD jdk-8u11-1inux-x64.tar.gz /usr/local/
ADD apache-tomcat-9.0.22.tar.gz /usr/local/

<span class="token comment">#安装vim</span>
RUN yum -y <span class="token function">install</span> <span class="token function">vim</span>

<span class="token comment">#设置docker镜像中的环境</span>
<span class="token comment">#指定工作目录</span>
ENV MYPATH /usr/1oca1
WORKDIR <span class="token variable">$MYPATH</span>

<span class="token comment">#指定JAVA环境</span>
ENV JAVA_HOME /usr/1oca1/jdk1.8.0.11
ENV CLASSPATH <span class="token variable">$JAVA_HOME</span>/1ib/dt. jar:<span class="token variable">$JAVA_HOME</span>/lib/too1s.jar
<span class="token comment">#指定Tomcat环境</span>
ENV CATALINA_HOME /usr/1oca1/apache- tomcat-9.0.22
ENV CATALINA_BASH /usr/1oca1/apache-tomcat-9.0.22
<span class="token comment">#指定默认路径，和windows里面一样的，这样方便在命令行中直接使用命令！！！</span>
ENV <span class="token environment constant">PATH</span> <span class="token environment constant">$PATH</span><span class="token builtin class-name">:</span><span class="token variable">$JAVA_HOME</span>/bin:<span class="token variable">$CATALINA_HOME</span>/lib:<span class="token variable">$CATALINA_HOME</span>/bin
<span class="token comment">#暴露端口</span>
EXPOSE <span class="token number">8080</span>
<span class="token comment">#启动一些文件来进行操作，例如日志的开启啊</span>
CMD /usr/1oca1/apache-tomcat-9.0.22/bin/startup.sh <span class="token operator">&amp;&amp;</span> <span class="token function">tail</span> -F /ur1/1oca1/apache-tomcat-9.0.22/bin/1ogs/catalina.out<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<ol start="3">
<li>创建镜像：</li>
</ol>
<p><code>docker build -t diytomcat .</code></p>
<ul>
<li>dockerfile文件的名字为标准的Dockerfile的话，-f就不用自己设置了，系统会导入的嗷！！！</li>
<li>docker run的时候如果没有指定版本的话，用的就是默认版本，也就是最新版，因此这里要注意一下嗷！！！</li>
</ul>
<ol start="4">
<li>启动镜像：</li>
</ol>
<p>进行一些挂载，例如发布的时候的目录挂载到Linux虚拟机中嗷！！！</p>
<p><img src="https://cdn.jsdelivr.net/gh/alexanderliu-creator/cloudimg/20210524191909.png" alt="image-20210524191902624"></p>
<ul>
<li>例如上面这个，将这个容器的webapps挂载到了本地的test目录，将日志目录也挂载到了本地。这里我们。</li>
</ul>
<ol start="5">
<li><p>测试访问</p>
</li>
<li><p>发布项目（由于我们做了挂载，可以直接对于本地的文件进行修改就可以实现发布）</p>
</li>
</ol>
<p>例如webapps/test挂载到了本地的目录，那么我们就可以去test里面新建WEB-INF啊，新建web.xml啊，新建index.jsp啊之类的，都可以新建的。然后访问对应端口</p>
<ul>
<li>以后的项目都是这个流程嗷！！！</li>
</ul>
<h2 id="发布镜像："><a href="#发布镜像：" class="headerlink" title="发布镜像："></a>发布镜像：</h2><h3 id="发布到docker-hub："><a href="#发布到docker-hub：" class="headerlink" title="发布到docker hub："></a>发布到docker hub：</h3><ul>
<li><p>先去DockerHub的注册一个账号</p>
</li>
<li><p>服务器上提交自己的镜像</p>
</li>
<li><p><code>docker push 账户名(liututu)/镜像名(diytomcat:1.0)</code></p>
</li>
</ul>
<h4 id="docker-login："><a href="#docker-login：" class="headerlink" title="docker login："></a>docker login：</h4><ul>
<li>登录远程的dockerhub</li>
<li>登录完毕之后就可以提交镜像了。</li>
<li>登录之后就可以docker push了。</li>
<li><code>docker login -u liututu</code></li>
<li>然后输入密码即可以登录</li>
</ul>
<h4 id="docker-tag："><a href="#docker-tag：" class="headerlink" title="docker tag："></a>docker tag：</h4><ul>
<li>用于添加标签</li>
<li><code>docker tag 镜像id tag的名字和版本号</code></li>
<li>e.g. <code>docker tag xxx tuzi/tomcat:1.0</code></li>
</ul>
<h3 id="发布到腾讯云："><a href="#发布到腾讯云：" class="headerlink" title="发布到腾讯云："></a>发布到腾讯云：</h3><ul>
<li>有点麻烦，暂不考虑</li>
</ul>
<h2 id="Docker全流程小结："><a href="#Docker全流程小结：" class="headerlink" title="Docker全流程小结："></a>Docker全流程小结：</h2><ul>
<li>流程图如下：</li>
</ul>
<p><img src="https://cdn.jsdelivr.net/gh/alexanderliu-creator/cloudimg/20210525164723.png" alt="image-20210525164716547"></p>
<h3 id="docker-save"><a href="#docker-save" class="headerlink" title="docker save:"></a>docker save:</h3><ul>
<li>可以使用–help去看使用方法很简单的嗷</li>
<li>-o 参数，用于指定输出路径</li>
</ul>
<h3 id="docker-load："><a href="#docker-load：" class="headerlink" title="docker load："></a>docker load：</h3><ul>
<li>可以使用–help去看使用方法很简单的嗷</li>
<li>- i参数，用于指定输入读取的路径</li>
</ul>
<h1 id="Docker网络"><a href="#Docker网络" class="headerlink" title="Docker网络"></a>Docker网络</h1><h2 id="理解网络"><a href="#理解网络" class="headerlink" title="理解网络"></a>理解网络</h2><h3 id="ip-addr"><a href="#ip-addr" class="headerlink" title="ip addr:"></a>ip addr:</h3><ul>
<li>docker中的网络是docker0</li>
<li>docker中先清空，比较方便，rmi and rm</li>
</ul>
<p><img src="https://cdn.jsdelivr.net/gh/alexanderliu-creator/cloudimg/20210525165959.png" alt="image-20210525165958822"></p>
<ul>
<li><p>三个网络，有点乱嗷！！！</p>
</li>
<li><p>查看容器内部网络地址，就是上面那幅图：ip addr。</p>
</li>
<li><p><code>docker exec -it tomcat01 ip addr</code>可以使用命令连接直接查看ip addr。</p>
</li>
<li><p>下面这幅图你可以看到，Linux宿主机是可以Ping通docker容器的。</p>
</li>
</ul>
<p><img src="https://cdn.jsdelivr.net/gh/alexanderliu-creator/cloudimg/20210525170516.png" alt="image-20210525170515929"></p>
<blockquote>
<p>原理：</p>
<ol>
<li>每启动一个docker容器，docker就会为容器分配一个ip。</li>
<li>只要安装了docker，就会有一个docker网卡。这个网卡使用的是evth-pair桥接模式。</li>
<li>多启动了一个容器之后，在宿主机内使用ip addr可以看到多了一个网卡！！！</li>
<li>容器带来的网卡是一对儿的，容器里面有一个，宿主机外面有一个，这两个网卡是相互绑定可以通信的。这样一对儿一对儿网卡存在的技术就叫做evth-pair技术。一端连着协议，一端彼此相连，他们之间就可以通信。</li>
<li>因此我们经常使用evth-pair来充当一个桥梁，连接各种网络设备的。</li>
<li>OpenStac , Docker容器之间的连接，OVS的连接，都是使用 evth-pair技术。</li>
</ol>
</blockquote>
<p><img src="https://cdn.jsdelivr.net/gh/alexanderliu-creator/cloudimg/20210525171852.png" alt="image-20210525171852546"></p>
<ul>
<li>容器和容器之间也是可以相互ping通的嗷！！！</li>
<li>网络通信流程图：</li>
</ul>
<p><img src="https://cdn.jsdelivr.net/gh/alexanderliu-creator/cloudimg/20210525172510.png" alt="image-20210525172305633"></p>
<p>结论：Tomcat01和Tomcat02共用一个路由器 ， docker0</p>
<ul>
<li>在所有容器不指定网络的情况下，默认使用的都是docker0，docker会给我们容器分配一个默认的可用ip</li>
</ul>
<blockquote>
<p>小结:</p>
<p>​	Docker使用的Linux中的桥接模式嗷！！！</p>
<p>概念图，宿主机中式一个Docker容器的网桥：</p>
<p><img src="https://cdn.jsdelivr.net/gh/alexanderliu-creator/cloudimg/20210525172743.png" alt="image-20210525172743908"></p>
</blockquote>
<ul>
<li>Docker中的所有的网络接口都是虚拟的，虚拟的转发效率高！！！</li>
<li>只要容器删除了，容器的一堆网卡就都没了。</li>
<li>思考场景</li>
</ul>
<blockquote>
<p>思考一个场景，我们编写了一个微服务，database url = ip; 项目不重启，数据库ip换掉了，我们希望可以处理这个问题，可以使用名字来访问容器。</p>
</blockquote>
<h2 id="docker-link："><a href="#docker-link：" class="headerlink" title="docker link："></a>docker link：</h2><ul>
<li>用名字取ping ， 容器之间ping不通：</li>
</ul>
<p><img src="https://cdn.jsdelivr.net/gh/alexanderliu-creator/cloudimg/20210525173214.png" alt="image-20210525173214861"></p>
<ul>
<li>解决问题的样式：</li>
</ul>
<p><img src="https://cdn.jsdelivr.net/gh/alexanderliu-creator/cloudimg/20210525173352.png" alt="image-20210525173351915"></p>
<ul>
<li>3 ping 2可以ping通，2 ping 3通不了，因为你只对于3做了配置</li>
</ul>
<h3 id="docker-network-ls"><a href="#docker-network-ls" class="headerlink" title="docker  network ls:"></a>docker  network ls:</h3><p><img src="https://cdn.jsdelivr.net/gh/alexanderliu-creator/cloudimg/20210525173746.png" alt="image-20210525173746192"></p>
<h3 id="docker-network-inspect-容器id"><a href="#docker-network-inspect-容器id" class="headerlink" title="docker network inspect 容器id:"></a>docker network inspect 容器id:</h3><ul>
<li>查看容器的网络连接情况。</li>
</ul>
<p><img src="https://cdn.jsdelivr.net/gh/alexanderliu-creator/cloudimg/20210525174735.png" alt="image-20210525174735252"></p>
<p><img src="https://cdn.jsdelivr.net/gh/alexanderliu-creator/cloudimg/20210525174826.png" alt="image-20210525174826630"></p>
<ul>
<li>其实tomcat03是配置了tomcat02</li>
</ul>
<p>看看配置：</p>
<p><img src="https://cdn.jsdelivr.net/gh/alexanderliu-creator/cloudimg/20210525175127.png" alt="image-20210525175127130"></p>
<ul>
<li>这里进入了tomcat03中的host配置文件，查看到了tomcat03关于tomcat02的网络配置。</li>
<li>原理：<ul>
<li>在启动容器的时候，对于tomcat02进行了一个绑定，其实就算不绑定，用容器id也能够ping通。</li>
</ul>
</li>
<li>未进行配置的tomcat02配置文件中的内容：</li>
</ul>
<p><img src="https://cdn.jsdelivr.net/gh/alexanderliu-creator/cloudimg/20210525185042.png" alt="image-20210525185042340"></p>
<ul>
<li><p>真实玩docker的时候，使用自定义的网络，就很方便嗷！！！不适用docker0嗷！！！</p>
</li>
<li><p>docker0的问题：</p>
<ul>
<li>不支持容器名访问嗷！！！</li>
</ul>
</li>
<li><p>自定义yyds！！！</p>
</li>
</ul>
<h2 id="自定义网络"><a href="#自定义网络" class="headerlink" title="自定义网络"></a>自定义网络</h2><ul>
<li>容器互联作用</li>
</ul>
<h3 id="移除网络："><a href="#移除网络：" class="headerlink" title="移除网络："></a>移除网络：</h3><ul>
<li>docker network ls可以显示所有的网络</li>
<li>docker network rm 网络id ， 可以移除一个或多个网络</li>
<li>docker network rm $(docker network ls -q)这样就可以递归删除所有网络嗷！！！</li>
</ul>
<h3 id="网络模式："><a href="#网络模式：" class="headerlink" title="网络模式："></a>网络模式：</h3><ul>
<li>bridge：在docker上面搭桥。（默认，自己创建也是使用桥接模式的嗷！！！）</li>
<li>none：不配置网络</li>
<li>host：和宿主机共享网络</li>
<li>container：容器内网络联通（用的少，局限很大）</li>
</ul>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token punctuation">[</span>root@VM-12-10-centos ~<span class="token punctuation">]</span><span class="token comment"># docker network ls</span>
NETWORK ID     NAME      DRIVER    SCOPE
96547b049a6f   bridge    bridge    <span class="token builtin class-name">local</span>
cbf21525bdaa   <span class="token function">host</span>      <span class="token function">host</span>      <span class="token builtin class-name">local</span>
1f4bf7dc20df   none      null      <span class="token builtin class-name">local</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<ul>
<li>上面这三个是docker为我们默认配置好的三个嗷！！！</li>
</ul>
<h3 id="使用create创建网络："><a href="#使用create创建网络：" class="headerlink" title="使用create创建网络："></a>使用create创建网络：</h3><ul>
<li>我们直接启动镜像的命令，实际上是默认有个：<code>--net bridge</code>参数的，这里实际上就指定了使用docker默认为我们提供的docker0桥接模式也就是我们上面这一段代码中的第一个也就是名字为bridge的这个网络。</li>
<li>docker0默认名字不能访问 ，可以使用link进行打通，但是比较麻烦嗷！！！</li>
<li>可以调用帮助文档：<code>docker network create --help</code></li>
<li>创建一个网络：<ul>
<li><code>docker network create --driver bridge --subnet 192.168.0.0/16 --gateway 192.168.0.1 mynet </code></li>
<li>上面这个相当于新建了一个router</li>
</ul>
</li>
<li>我们创建了网络之后进行查看：</li>
</ul>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token punctuation">[</span>root@VM-12-10-centos ~<span class="token punctuation">]</span><span class="token comment"># docker inspect mynet</span>
<span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
        <span class="token string">"Name"</span><span class="token builtin class-name">:</span> <span class="token string">"mynet"</span>,
        <span class="token string">"Id"</span><span class="token builtin class-name">:</span> <span class="token string">"4fdb6ebd5847ecda8ef9aa755cb1fe24a0c792f089492aaa273e528517c56a45"</span>,
        <span class="token string">"Created"</span><span class="token builtin class-name">:</span> <span class="token string">"2021-05-25T21:49:13.115937992+08:00"</span>,
        <span class="token string">"Scope"</span><span class="token builtin class-name">:</span> <span class="token string">"local"</span>,
        <span class="token string">"Driver"</span><span class="token builtin class-name">:</span> <span class="token string">"bridge"</span>,
        <span class="token string">"EnableIPv6"</span><span class="token builtin class-name">:</span> false,
        <span class="token string">"IPAM"</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span>
            <span class="token string">"Driver"</span><span class="token builtin class-name">:</span> <span class="token string">"default"</span>,
            <span class="token string">"Options"</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>,
            <span class="token string">"Config"</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span>
                <span class="token punctuation">{</span>
                    <span class="token string">"Subnet"</span><span class="token builtin class-name">:</span> <span class="token string">"192.168.0.0/16"</span>,
                    <span class="token string">"Gateway"</span><span class="token builtin class-name">:</span> <span class="token string">"192.168.0.1"</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">]</span>
        <span class="token punctuation">}</span>,
        <span class="token string">"Internal"</span><span class="token builtin class-name">:</span> false,
        <span class="token string">"Attachable"</span><span class="token builtin class-name">:</span> false,
        <span class="token string">"Ingress"</span><span class="token builtin class-name">:</span> false,
        <span class="token string">"ConfigFrom"</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span>
            <span class="token string">"Network"</span><span class="token builtin class-name">:</span> <span class="token string">""</span>
        <span class="token punctuation">}</span>,
        <span class="token string">"ConfigOnly"</span><span class="token builtin class-name">:</span> false,
        <span class="token string">"Containers"</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>,
        <span class="token string">"Options"</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>,
        <span class="token string">"Labels"</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<ul>
<li>这个时候启动容器的时候，就可以加上参数：<code>--net mynet</code>，这样就完成了<code>router</code>的指定。</li>
<li>当创建了新的容器之后，我们再执行这个inspect mynet的命令，就可以看到我们上面这一坨里面的多了容器！！！为了验证容器间可以进行交互，我们这里创建了tomcat01和tomcat02，作为示例：</li>
</ul>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token punctuation">[</span>root@VM-12-10-centos ~<span class="token punctuation">]</span><span class="token comment"># docker inspect mynet</span>
<span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
        <span class="token string">"Name"</span><span class="token builtin class-name">:</span> <span class="token string">"mynet"</span>,
        <span class="token string">"Id"</span><span class="token builtin class-name">:</span> <span class="token string">"4fdb6ebd5847ecda8ef9aa755cb1fe24a0c792f089492aaa273e528517c56a45"</span>,
        <span class="token string">"Created"</span><span class="token builtin class-name">:</span> <span class="token string">"2021-05-25T21:49:13.115937992+08:00"</span>,
        <span class="token string">"Scope"</span><span class="token builtin class-name">:</span> <span class="token string">"local"</span>,
        <span class="token string">"Driver"</span><span class="token builtin class-name">:</span> <span class="token string">"bridge"</span>,
        <span class="token string">"EnableIPv6"</span><span class="token builtin class-name">:</span> false,
        <span class="token string">"IPAM"</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span>
            <span class="token string">"Driver"</span><span class="token builtin class-name">:</span> <span class="token string">"default"</span>,
            <span class="token string">"Options"</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>,
            <span class="token string">"Config"</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span>
                <span class="token punctuation">{</span>
                    <span class="token string">"Subnet"</span><span class="token builtin class-name">:</span> <span class="token string">"192.168.0.0/16"</span>,
                    <span class="token string">"Gateway"</span><span class="token builtin class-name">:</span> <span class="token string">"192.168.0.1"</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">]</span>
        <span class="token punctuation">}</span>,
        <span class="token string">"Internal"</span><span class="token builtin class-name">:</span> false,
        <span class="token string">"Attachable"</span><span class="token builtin class-name">:</span> false,
        <span class="token string">"Ingress"</span><span class="token builtin class-name">:</span> false,
        <span class="token string">"ConfigFrom"</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span>
            <span class="token string">"Network"</span><span class="token builtin class-name">:</span> <span class="token string">""</span>
        <span class="token punctuation">}</span>,
        <span class="token string">"ConfigOnly"</span><span class="token builtin class-name">:</span> false,
        <span class="token string">"Containers"</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span>
            <span class="token string">"0940afc5e87c21a391d076dbc2929f4ff6e2b86e753c9f608deeb4de32b92421"</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span>
                <span class="token string">"Name"</span><span class="token builtin class-name">:</span> <span class="token string">"tomcat01"</span>,
                <span class="token string">"EndpointID"</span><span class="token builtin class-name">:</span> <span class="token string">"0be1b6042a092ae4fdbd744559a781cccd865b6836c30c3cb25b92359d500214"</span>,
                <span class="token string">"MacAddress"</span><span class="token builtin class-name">:</span> <span class="token string">"02:42:c0:a8:00:02"</span>,
                <span class="token string">"IPv4Address"</span><span class="token builtin class-name">:</span> <span class="token string">"192.168.0.2/16"</span>,
                <span class="token string">"IPv6Address"</span><span class="token builtin class-name">:</span> <span class="token string">""</span>
            <span class="token punctuation">}</span>,
            <span class="token string">"def80af639d3f697e76de23f50fcdf209612fb70996289b1b812b07f547f55f6"</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span>
                <span class="token string">"Name"</span><span class="token builtin class-name">:</span> <span class="token string">"tomcat02"</span>,
                <span class="token string">"EndpointID"</span><span class="token builtin class-name">:</span> <span class="token string">"c827e50e6ec0c3c9692b3c4090ac9a9b38e38eb1b2cc70fe5baa7ef40856d14a"</span>,
                <span class="token string">"MacAddress"</span><span class="token builtin class-name">:</span> <span class="token string">"02:42:c0:a8:00:03"</span>,
                <span class="token string">"IPv4Address"</span><span class="token builtin class-name">:</span> <span class="token string">"192.168.0.3/16"</span>,
                <span class="token string">"IPv6Address"</span><span class="token builtin class-name">:</span> <span class="token string">""</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>,
        <span class="token string">"Options"</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>,
        <span class="token string">"Labels"</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<ul>
<li>上面就可以看到我们的两个容器嗷！！！自创建的网络非常完善，带了很多的功能嗷！！！不管是ping id还是ping name都能够ping通嗷！！！</li>
</ul>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token punctuation">[</span>root@VM-12-10-centos ~<span class="token punctuation">]</span><span class="token comment"># docker exec -it tomcat01 ping 192.168.0.3</span>
PING <span class="token number">192.168</span>.0.3 <span class="token punctuation">(</span><span class="token number">192.168</span>.0.3<span class="token punctuation">)</span> <span class="token number">56</span><span class="token punctuation">(</span><span class="token number">84</span><span class="token punctuation">)</span> bytes of data.
<span class="token number">64</span> bytes from <span class="token number">192.168</span>.0.3: <span class="token assign-left variable">icmp_seq</span><span class="token operator">=</span><span class="token number">1</span> <span class="token assign-left variable">ttl</span><span class="token operator">=</span><span class="token number">64</span> <span class="token assign-left variable">time</span><span class="token operator">=</span><span class="token number">0.060</span> ms
<span class="token number">64</span> bytes from <span class="token number">192.168</span>.0.3: <span class="token assign-left variable">icmp_seq</span><span class="token operator">=</span><span class="token number">2</span> <span class="token assign-left variable">ttl</span><span class="token operator">=</span><span class="token number">64</span> <span class="token assign-left variable">time</span><span class="token operator">=</span><span class="token number">0.049</span> ms
<span class="token number">64</span> bytes from <span class="token number">192.168</span>.0.3: <span class="token assign-left variable">icmp_seq</span><span class="token operator">=</span><span class="token number">3</span> <span class="token assign-left variable">ttl</span><span class="token operator">=</span><span class="token number">64</span> <span class="token assign-left variable">time</span><span class="token operator">=</span><span class="token number">0.058</span> ms
<span class="token number">64</span> bytes from <span class="token number">192.168</span>.0.3: <span class="token assign-left variable">icmp_seq</span><span class="token operator">=</span><span class="token number">4</span> <span class="token assign-left variable">ttl</span><span class="token operator">=</span><span class="token number">64</span> <span class="token assign-left variable">time</span><span class="token operator">=</span><span class="token number">0.064</span> ms
^C
--- <span class="token number">192.168</span>.0.3 <span class="token function">ping</span> statistics ---
<span class="token number">4</span> packets transmitted, <span class="token number">4</span> received, <span class="token number">0</span>% packet loss, <span class="token function">time</span> 1002ms
rtt min/avg/max/mdev <span class="token operator">=</span> <span class="token number">0.049</span>/0.057/0.064/0.010 ms


<span class="token punctuation">[</span>root@VM-12-10-centos ~<span class="token punctuation">]</span><span class="token comment"># docker exec -it tomcat01 ping tomcat02</span>
PING tomcat02 <span class="token punctuation">(</span><span class="token number">192.168</span>.0.3<span class="token punctuation">)</span> <span class="token number">56</span><span class="token punctuation">(</span><span class="token number">84</span><span class="token punctuation">)</span> bytes of data.
<span class="token number">64</span> bytes from tomcat02.mynet <span class="token punctuation">(</span><span class="token number">192.168</span>.0.3<span class="token punctuation">)</span>: <span class="token assign-left variable">icmp_seq</span><span class="token operator">=</span><span class="token number">1</span> <span class="token assign-left variable">ttl</span><span class="token operator">=</span><span class="token number">64</span> <span class="token assign-left variable">time</span><span class="token operator">=</span><span class="token number">0.059</span> ms
<span class="token number">64</span> bytes from tomcat02.mynet <span class="token punctuation">(</span><span class="token number">192.168</span>.0.3<span class="token punctuation">)</span>: <span class="token assign-left variable">icmp_seq</span><span class="token operator">=</span><span class="token number">2</span> <span class="token assign-left variable">ttl</span><span class="token operator">=</span><span class="token number">64</span> <span class="token assign-left variable">time</span><span class="token operator">=</span><span class="token number">0.061</span> ms
<span class="token number">64</span> bytes from tomcat02.mynet <span class="token punctuation">(</span><span class="token number">192.168</span>.0.3<span class="token punctuation">)</span>: <span class="token assign-left variable">icmp_seq</span><span class="token operator">=</span><span class="token number">3</span> <span class="token assign-left variable">ttl</span><span class="token operator">=</span><span class="token number">64</span> <span class="token assign-left variable">time</span><span class="token operator">=</span><span class="token number">0.050</span> ms
<span class="token number">64</span> bytes from tomcat02.mynet <span class="token punctuation">(</span><span class="token number">192.168</span>.0.3<span class="token punctuation">)</span>: <span class="token assign-left variable">icmp_seq</span><span class="token operator">=</span><span class="token number">4</span> <span class="token assign-left variable">ttl</span><span class="token operator">=</span><span class="token number">64</span> <span class="token assign-left variable">time</span><span class="token operator">=</span><span class="token number">0.059</span> ms
<span class="token number">64</span> bytes from tomcat02.mynet <span class="token punctuation">(</span><span class="token number">192.168</span>.0.3<span class="token punctuation">)</span>: <span class="token assign-left variable">icmp_seq</span><span class="token operator">=</span><span class="token number">5</span> <span class="token assign-left variable">ttl</span><span class="token operator">=</span><span class="token number">64</span> <span class="token assign-left variable">time</span><span class="token operator">=</span><span class="token number">0.063</span> ms
<span class="token number">64</span> bytes from tomcat02.mynet <span class="token punctuation">(</span><span class="token number">192.168</span>.0.3<span class="token punctuation">)</span>: <span class="token assign-left variable">icmp_seq</span><span class="token operator">=</span><span class="token number">6</span> <span class="token assign-left variable">ttl</span><span class="token operator">=</span><span class="token number">64</span> <span class="token assign-left variable">time</span><span class="token operator">=</span><span class="token number">0.055</span> ms
<span class="token number">64</span> bytes from tomcat02.mynet <span class="token punctuation">(</span><span class="token number">192.168</span>.0.3<span class="token punctuation">)</span>: <span class="token assign-left variable">icmp_seq</span><span class="token operator">=</span><span class="token number">7</span> <span class="token assign-left variable">ttl</span><span class="token operator">=</span><span class="token number">64</span> <span class="token assign-left variable">time</span><span class="token operator">=</span><span class="token number">0.066</span> ms
<span class="token number">64</span> bytes from tomcat02.mynet <span class="token punctuation">(</span><span class="token number">192.168</span>.0.3<span class="token punctuation">)</span>: <span class="token assign-left variable">icmp_seq</span><span class="token operator">=</span><span class="token number">8</span> <span class="token assign-left variable">ttl</span><span class="token operator">=</span><span class="token number">64</span> <span class="token assign-left variable">time</span><span class="token operator">=</span><span class="token number">0.063</span> ms
<span class="token number">64</span> bytes from tomcat02.mynet <span class="token punctuation">(</span><span class="token number">192.168</span>.0.3<span class="token punctuation">)</span>: <span class="token assign-left variable">icmp_seq</span><span class="token operator">=</span><span class="token number">9</span> <span class="token assign-left variable">ttl</span><span class="token operator">=</span><span class="token number">64</span> <span class="token assign-left variable">time</span><span class="token operator">=</span><span class="token number">0.053</span> ms
<span class="token number">64</span> bytes from tomcat02.mynet <span class="token punctuation">(</span><span class="token number">192.168</span>.0.3<span class="token punctuation">)</span>: <span class="token assign-left variable">icmp_seq</span><span class="token operator">=</span><span class="token number">10</span> <span class="token assign-left variable">ttl</span><span class="token operator">=</span><span class="token number">64</span> <span class="token assign-left variable">time</span><span class="token operator">=</span><span class="token number">0.049</span> ms
^C
--- tomcat02 <span class="token function">ping</span> statistics ---
<span class="token number">10</span> packets transmitted, <span class="token number">10</span> received, <span class="token number">0</span>% packet loss, <span class="token function">time</span> 9ms
rtt min/avg/max/mdev <span class="token operator">=</span> <span class="token number">0.049</span>/0.057/0.066/0.011 ms<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<ul>
<li>不适用–link也可以ping名字，我们自定义的网络，docker都已经帮我们维护好了对应的关系。</li>
</ul>
<h3 id="网络联通："><a href="#网络联通：" class="headerlink" title="网络联通："></a>网络联通：</h3><ul>
<li>不同的网段是ping不通的嗷！！！</li>
</ul>
<p><img src="https://cdn.jsdelivr.net/gh/alexanderliu-creator/cloudimg/20210526115758.png" alt="image-20210526115321157"></p>
<p><img src="https://cdn.jsdelivr.net/gh/alexanderliu-creator/cloudimg/20210526115806.png" alt="image-20210526115347834"></p>
<ul>
<li><code>docker network connect NETWORK CONTAINER</code></li>
<li>上面用于不同的网段之间的连接，联通就是将tomcat容器放到了mynet网络下。官方叫做：一个容器，两个ip地址。（一个公网ip , 一个私网ip）。</li>
</ul>
<p><img src="https://cdn.jsdelivr.net/gh/alexanderliu-creator/cloudimg/20210526120924.png" alt="image-20210526120923916"></p>
<ul>
<li>网卡和网卡之间正常是不能打通的，但是容器和网卡之间可以嗷！！！</li>
<li>只有01和mynet打通了，可以和它交互，但是02不可以嗷！！！！</li>
</ul>
<h2 id="实战（部署redis集群）："><a href="#实战（部署redis集群）：" class="headerlink" title="实战（部署redis集群）："></a>实战（部署redis集群）：</h2><ul>
<li>分片+高可用+负载均衡</li>
</ul>
<p><img src="https://cdn.jsdelivr.net/gh/alexanderliu-creator/cloudimg/20210526121252.png" alt="image-20210526121252216"></p>
<ul>
<li><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1og4y1q7M4?p=38&amp;spm_id_from=pageDriver">这一块儿可以后面再看嗷！！！</a></li>
<li>目前还没学redis，以及集群还没学，这个狂神的课程还有进阶版本的docker，目前这个教程就到这里嗷！！！</li>
</ul>
<h1 id="小技巧"><a href="#小技巧" class="headerlink" title="小技巧"></a>小技巧</h1><h2 id="Docker开机后跑不了的问题"><a href="#Docker开机后跑不了的问题" class="headerlink" title="Docker开机后跑不了的问题"></a>Docker开机后跑不了的问题</h2><ul>
<li>由于docker默认没有开启开机自动重启，这个时候你的虚拟机重新开机就会导致docker用不了，如何解决？那就再开启一次docker服务就好了哇！！！</li>
<li><code>systemctl restart docker.service</code></li>
</ul>
<h2 id="Docker映射端口在服务器打开"><a href="#Docker映射端口在服务器打开" class="headerlink" title="Docker映射端口在服务器打开"></a>Docker映射端口在服务器打开</h2><ul>
<li>此外，比如你想开放3344端口，你需要去腾讯云服务器配置的那个位置配置新的安全组：</li>
</ul>
<p><img src="https://cdn.jsdelivr.net/gh/alexanderliu-creator/cloudimg/20210523113152.png" alt="image-20210523113152632"></p>
<ul>
<li>配置完成之后可能需要重启实例才能使得服务生效嗷！！！</li>
</ul>
<h2 id="博客的nginx重启之后记得开"><a href="#博客的nginx重启之后记得开" class="headerlink" title="博客的nginx重启之后记得开"></a>博客的nginx重启之后记得开</h2><ul>
<li><code>systemctl start nginx.service</code></li>
<li><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/56349043">Nginx服务器解决方案</a></li>
</ul>
<h2 id="远程访问的问题："><a href="#远程访问的问题：" class="headerlink" title="远程访问的问题："></a>远程访问的问题：</h2><ul>
<li>比如我开放了3344端口，直接通过域名:3344是能够访问到我监听3344端口的程序的。</li>
<li>突然让我想起了blog的搭建。我搭建blog的时候，使用nginx监听的是80端口。浏览器访问我的域名的话，默认访问的就是80端口，因此我的nginx能够为其提供服务。</li>
<li>域名:端口号就可以根据你自己的喜好，访问到部署在不同端口的应用程序。</li>
</ul>
<h2 id="x2F-bin-x2F-bash"><a href="#x2F-bin-x2F-bash" class="headerlink" title="/bin/bash"></a>/bin/bash</h2><ul>
<li>一般和-it这个选项用来一起使用的嗷，这里是指定交互的终端为bash，不然你怎么和内部容器进行交互嘛！！！</li>
<li></li>
</ul>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="http://example.com">Alexander Liu</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="http://example.com/2021/05/19/docker-xue-xi/">http://example.com/2021/05/19/docker-xue-xi/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="http://example.com" target="_blank">兔の博客</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/%E5%90%8E%E7%AB%AF/">后端</a></div><div class="post_share"><div class="social-share" data-image="https://cdn.jsdelivr.net/gh/alexanderliu-creator/cloudimg/img/20210819205713.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2021/05/26/chu-shi-dubbo/"><img class="prev-cover" src="https://cdn.jsdelivr.net/gh/alexanderliu-creator/cloudimg/img/20210721212039.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">初识Dubbo</div></div></a></div><div class="next-post pull-right"><a href="/2021/05/15/springmvc-kuang-jia-xue-xi/"><img class="next-cover" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">SpringMVC框架学习</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><div><a href="/2021/08/19/docker-jin-jie/" title="Docker进阶"><img class="cover" src="https://cdn.jsdelivr.net/gh/alexanderliu-creator/cloudimg/img/20210819205713.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-08-19</div><div class="title">Docker进阶</div></div></a></div><div><a href="/2021/08/25/elasticsearch-xue-xi/" title="ElasticSearch学习"><img class="cover" src="https://cdn.jsdelivr.net/gh/alexanderliu-creator/cloudimg/img/20210825185001.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-08-25</div><div class="title">ElasticSearch学习</div></div></a></div><div><a href="/2021/03/16/jdbc-xue-xi/" title="JDBC学习"><img class="cover" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-03-16</div><div class="title">JDBC学习</div></div></a></div><div><a href="/2021/04/21/jsp-xue-xi/" title="JSP学习"><img class="cover" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-04-21</div><div class="title">JSP学习</div></div></a></div><div><a href="/2021/02/20/java-fu-xi/" title="Java大二上所学内容"><img class="cover" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-02-20</div><div class="title">Java大二上所学内容</div></div></a></div><div><a href="/2021/03/01/maven-xue-xi/" title="Maven学习"><img class="cover" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-03-01</div><div class="title">Maven学习</div></div></a></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="https://i.loli.net/2021/02/24/5O1day2nriDzjSu.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">Alexander Liu</div><div class="author-info__description">欢迎来到兔子的小窝，这里是兔子的一些笔记分享</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">75</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">15</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">5</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/xxxxxx"><i class="fab fa-github"></i><span>Follow Me</span></a></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">This is my Blog</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#B%E7%AB%99%E7%8B%82%E7%A5%9E%E8%AF%B4docker%E6%95%99%E7%A8%8B%EF%BC%8CSpringMVC%E5%A4%AA%E5%B9%B2%E4%BA%86%E5%90%AC%E4%B8%8D%E4%B8%8B%E5%8E%BB%EF%BC%8C%E5%85%88%E5%90%AC%E4%BC%9A%E5%84%BF%E8%BF%99%E4%B8%AA%E8%BD%AC%E6%8D%A2%E5%BF%83%E6%83%85%E3%80%82"><span class="toc-number">1.</span> <span class="toc-text">B站狂神说docker教程，SpringMVC太干了听不下去，先听会儿这个转换心情。</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Docker%E5%85%A5%E9%97%A8"><span class="toc-number">2.</span> <span class="toc-text">Docker入门</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Docker%E4%B8%BA%E5%95%A5%E4%BC%9A%E5%87%BA%E7%8E%B0"><span class="toc-number">2.1.</span> <span class="toc-text">Docker为啥会出现</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Docker%E7%9A%84%E5%8E%86%E5%8F%B2"><span class="toc-number">2.2.</span> <span class="toc-text">Docker的历史</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Docker%E8%83%BD%E5%B9%B2%E5%95%A5"><span class="toc-number">2.3.</span> <span class="toc-text">Docker能干啥</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Docker%E7%9A%84%E6%9E%B6%E6%9E%84"><span class="toc-number">2.4.</span> <span class="toc-text">Docker的架构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%95%9C%E5%83%8F-image-%EF%BC%9A"><span class="toc-number">2.4.1.</span> <span class="toc-text">镜像( image )：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%B9%E5%99%A8-container-%EF%BC%9A"><span class="toc-number">2.4.2.</span> <span class="toc-text">容器( container )：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%93%E5%BA%93-repository-%EF%BC%9A"><span class="toc-number">2.4.3.</span> <span class="toc-text">仓库(  repository )：</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%89%E8%A3%85Docker%EF%BC%9A"><span class="toc-number">2.5.</span> <span class="toc-text">安装Docker：</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%89%E8%A3%85%E6%AD%A5%E9%AA%A4%EF%BC%9A"><span class="toc-number">2.5.1.</span> <span class="toc-text">安装步骤：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Docker-run-hello-world%EF%BC%9A"><span class="toc-number">2.5.2.</span> <span class="toc-text">Docker run hello-world：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8D%B8%E8%BD%BDdocker%EF%BC%9A"><span class="toc-number">2.5.3.</span> <span class="toc-text">卸载docker：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%85%8D%E7%BD%AE%E8%85%BE%E8%AE%AF%E4%BA%91%E5%8A%A0%E9%80%9F%EF%BC%9A"><span class="toc-number">2.5.4.</span> <span class="toc-text">配置腾讯云加速：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Hello-World%E6%B5%81%E7%A8%8B%EF%BC%9A"><span class="toc-number">2.5.5.</span> <span class="toc-text">Hello-World流程：</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BA%95%E5%B1%82%E5%8E%9F%E7%90%86%EF%BC%9A"><span class="toc-number">2.6.</span> <span class="toc-text">底层原理：</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Docker%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%EF%BC%9A"><span class="toc-number">2.7.</span> <span class="toc-text">Docker常用命令：</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#docker-version-x2F-info-x2F-help%EF%BC%9A"><span class="toc-number">2.7.0.1.</span> <span class="toc-text">docker version &#x2F; info &#x2F; help：</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B8%B8%E7%94%A8%E9%95%9C%E5%83%8F%E5%91%BD%E4%BB%A4%EF%BC%9A"><span class="toc-number">2.7.1.</span> <span class="toc-text">常用镜像命令：</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#docker-images%EF%BC%9A"><span class="toc-number">2.7.1.1.</span> <span class="toc-text">docker images：</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B8%B8%E7%94%A8%E5%AE%B9%E5%99%A8%E5%91%BD%E4%BB%A4%EF%BC%9A"><span class="toc-number">2.7.2.</span> <span class="toc-text">常用容器命令：</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#docker-run%EF%BC%9A"><span class="toc-number">2.7.2.1.</span> <span class="toc-text">docker run：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#docker-ps%EF%BC%9A"><span class="toc-number">2.7.2.2.</span> <span class="toc-text">docker  ps：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%80%80%E5%87%BA%E5%AE%B9%E5%99%A8%EF%BC%9A"><span class="toc-number">2.7.2.3.</span> <span class="toc-text">退出容器：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#docker-rm%EF%BC%9A"><span class="toc-number">2.7.2.4.</span> <span class="toc-text">docker rm：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%90%AF%E5%8A%A8%E5%92%8C%E5%81%9C%E6%AD%A2%E5%AE%B9%E5%99%A8%E7%9A%84%E6%93%8D%E4%BD%9C%EF%BC%9A"><span class="toc-number">2.7.2.5.</span> <span class="toc-text">启动和停止容器的操作：</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B8%B8%E7%94%A8%E5%85%B6%E4%BB%96%E5%91%BD%E4%BB%A4%EF%BC%9A"><span class="toc-number">2.7.3.</span> <span class="toc-text">常用其他命令：</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#docker-run-d-%E5%AE%B9%E5%99%A8%E5%90%8D"><span class="toc-number">2.7.3.1.</span> <span class="toc-text">docker run -d 容器名</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#docker-logs"><span class="toc-number">2.7.3.2.</span> <span class="toc-text">docker logs</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8B%E8%BF%9B%E7%A8%8B%E4%BF%A1%E6%81%AF"><span class="toc-number">2.7.3.3.</span> <span class="toc-text">查看进程信息</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8B%E9%95%9C%E5%83%8F%E5%85%83%E6%95%B0%E6%8D%AE"><span class="toc-number">2.7.3.4.</span> <span class="toc-text">查看镜像元数据</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BF%9B%E5%85%A5%E6%AD%A3%E5%9C%A8%E8%BF%90%E8%A1%8C%E7%9A%84%E5%AE%B9%E5%99%A8"><span class="toc-number">2.7.3.5.</span> <span class="toc-text">进入正在运行的容器</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BB%8E%E5%AE%B9%E5%99%A8%E5%86%85%E6%8B%B7%E8%B4%9D%E6%96%87%E4%BB%B6%E5%88%B0%E4%B8%BB%E6%9C%BA"><span class="toc-number">2.7.3.6.</span> <span class="toc-text">从容器内拷贝文件到主机</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B0%8F%E7%BB%93%EF%BC%9A"><span class="toc-number">2.8.</span> <span class="toc-text">小结：</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B0%8F%E4%BD%9C%E4%B8%9A1%EF%BC%88%E9%83%A8%E7%BD%B2Nginx%EF%BC%89"><span class="toc-number">2.9.</span> <span class="toc-text">小作业1（部署Nginx）:</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B0%8F%E4%BD%9C%E4%B8%9A2%EF%BC%88%E9%83%A8%E7%BD%B2Tomcat%EF%BC%89"><span class="toc-number">2.10.</span> <span class="toc-text">小作业2（部署Tomcat）:</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B0%8F%E4%BD%9C%E4%B8%9A3%EF%BC%88%E9%83%A8%E7%BD%B2ES-Kibana%EF%BC%89%EF%BC%9A"><span class="toc-number">2.11.</span> <span class="toc-text">小作业3（部署ES+Kibana）：</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%8F%AF%E8%A7%86%E5%8C%96%E5%B7%A5%E5%85%B7%EF%BC%9A"><span class="toc-number">3.</span> <span class="toc-text">可视化工具：</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#portainer-%E5%85%88%E7%94%A8%E8%BF%99%E4%B8%AA-%EF%BC%9A"><span class="toc-number">3.1.</span> <span class="toc-text">portainer(先用这个)：</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Rancher-CI-x2F-CD%E5%86%8D%E7%94%A8"><span class="toc-number">3.2.</span> <span class="toc-text">Rancher(CI&#x2F;CD再用)</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Docker%E9%95%9C%E5%83%8F"><span class="toc-number">4.</span> <span class="toc-text">Docker镜像</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%95%9C%E5%83%8F%E6%98%AF%E4%BB%80%E4%B9%88"><span class="toc-number">4.1.</span> <span class="toc-text">镜像是什么</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%95%9C%E5%83%8F%E5%8A%A0%E8%BD%BD%E5%8E%9F%E7%90%86%EF%BC%88%E5%B1%82%E7%BA%A7%E7%9A%84%E6%A6%82%E5%BF%B5%EF%BC%89"><span class="toc-number">4.2.</span> <span class="toc-text">镜像加载原理（层级的概念）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#commit%E9%95%9C%E5%83%8F"><span class="toc-number">4.3.</span> <span class="toc-text">commit镜像</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8C%BF%E5%90%8D%E6%8C%82%E8%BD%BD%EF%BC%9A"><span class="toc-number">4.3.0.1.</span> <span class="toc-text">匿名挂载：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%B7%E5%90%8D%E6%8C%82%E8%BD%BD%EF%BC%9A"><span class="toc-number">4.3.0.2.</span> <span class="toc-text">具名挂载：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Summary%EF%BC%9A"><span class="toc-number">4.3.0.3.</span> <span class="toc-text">Summary：</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%9D%E8%AF%86DockerFile"><span class="toc-number">4.4.</span> <span class="toc-text">初识DockerFile</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%87%87%E7%94%A8Dockerfile%E8%BF%9B%E8%A1%8C%E6%8C%82%E8%BD%BD%EF%BC%9A"><span class="toc-number">4.4.1.</span> <span class="toc-text">采用Dockerfile进行挂载：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%8D%B7%E5%AE%B9%E5%99%A8%EF%BC%9A"><span class="toc-number">4.4.2.</span> <span class="toc-text">数据卷容器：</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A4%9A%E4%B8%AAMySQL%E6%95%B0%E6%8D%AE%E5%90%8C%E6%AD%A5%EF%BC%9A"><span class="toc-number">4.4.2.1.</span> <span class="toc-text">多个MySQL数据同步：</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Dockerfile%E4%BB%8B%E7%BB%8D%EF%BC%9A"><span class="toc-number">4.4.3.</span> <span class="toc-text">Dockerfile介绍：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Dockerfile%E6%8C%87%E4%BB%A4%E8%AF%B4%E6%98%8E%EF%BC%9A"><span class="toc-number">4.4.4.</span> <span class="toc-text">Dockerfile指令说明：</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#FROM"><span class="toc-number">4.4.4.1.</span> <span class="toc-text">FROM</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#MAINTAINER"><span class="toc-number">4.4.4.2.</span> <span class="toc-text">MAINTAINER</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#RUN"><span class="toc-number">4.4.4.3.</span> <span class="toc-text">RUN</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#ADD"><span class="toc-number">4.4.4.4.</span> <span class="toc-text">ADD</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#WORKDIR"><span class="toc-number">4.4.4.5.</span> <span class="toc-text">WORKDIR</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#VOLUME"><span class="toc-number">4.4.4.6.</span> <span class="toc-text">VOLUME</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#EXPOSE"><span class="toc-number">4.4.4.7.</span> <span class="toc-text">EXPOSE</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#CMD"><span class="toc-number">4.4.4.8.</span> <span class="toc-text">CMD</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#ENTRYPOINT"><span class="toc-number">4.4.4.9.</span> <span class="toc-text">ENTRYPOINT</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#ONBUILD"><span class="toc-number">4.4.4.10.</span> <span class="toc-text">ONBUILD</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#COPY"><span class="toc-number">4.4.4.11.</span> <span class="toc-text">COPY</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#ENV"><span class="toc-number">4.4.4.12.</span> <span class="toc-text">ENV</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9E%E6%88%98%E6%B5%8B%E8%AF%95%EF%BC%9A"><span class="toc-number">4.4.5.</span> <span class="toc-text">实战测试：</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link"><span class="toc-number">4.5.</span> <span class="toc-text"></span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#CMD%E5%92%8CENTRYPOINT%E7%9A%84%E5%8C%BA%E5%88%AB%EF%BC%9A"><span class="toc-number">4.5.1.</span> <span class="toc-text">CMD和ENTRYPOINT的区别：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9E%E4%BE%8B%EF%BC%9ATomcat%E9%95%9C%E5%83%8F"><span class="toc-number">4.5.2.</span> <span class="toc-text">实例：Tomcat镜像</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%91%E5%B8%83%E9%95%9C%E5%83%8F%EF%BC%9A"><span class="toc-number">4.6.</span> <span class="toc-text">发布镜像：</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%91%E5%B8%83%E5%88%B0docker-hub%EF%BC%9A"><span class="toc-number">4.6.1.</span> <span class="toc-text">发布到docker hub：</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#docker-login%EF%BC%9A"><span class="toc-number">4.6.1.1.</span> <span class="toc-text">docker login：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#docker-tag%EF%BC%9A"><span class="toc-number">4.6.1.2.</span> <span class="toc-text">docker tag：</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%91%E5%B8%83%E5%88%B0%E8%85%BE%E8%AE%AF%E4%BA%91%EF%BC%9A"><span class="toc-number">4.6.2.</span> <span class="toc-text">发布到腾讯云：</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Docker%E5%85%A8%E6%B5%81%E7%A8%8B%E5%B0%8F%E7%BB%93%EF%BC%9A"><span class="toc-number">4.7.</span> <span class="toc-text">Docker全流程小结：</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#docker-save"><span class="toc-number">4.7.1.</span> <span class="toc-text">docker save:</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#docker-load%EF%BC%9A"><span class="toc-number">4.7.2.</span> <span class="toc-text">docker load：</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Docker%E7%BD%91%E7%BB%9C"><span class="toc-number">5.</span> <span class="toc-text">Docker网络</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%90%86%E8%A7%A3%E7%BD%91%E7%BB%9C"><span class="toc-number">5.1.</span> <span class="toc-text">理解网络</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#ip-addr"><span class="toc-number">5.1.1.</span> <span class="toc-text">ip addr:</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#docker-link%EF%BC%9A"><span class="toc-number">5.2.</span> <span class="toc-text">docker link：</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#docker-network-ls"><span class="toc-number">5.2.1.</span> <span class="toc-text">docker  network ls:</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#docker-network-inspect-%E5%AE%B9%E5%99%A8id"><span class="toc-number">5.2.2.</span> <span class="toc-text">docker network inspect 容器id:</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%87%AA%E5%AE%9A%E4%B9%89%E7%BD%91%E7%BB%9C"><span class="toc-number">5.3.</span> <span class="toc-text">自定义网络</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%A7%BB%E9%99%A4%E7%BD%91%E7%BB%9C%EF%BC%9A"><span class="toc-number">5.3.1.</span> <span class="toc-text">移除网络：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BD%91%E7%BB%9C%E6%A8%A1%E5%BC%8F%EF%BC%9A"><span class="toc-number">5.3.2.</span> <span class="toc-text">网络模式：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8create%E5%88%9B%E5%BB%BA%E7%BD%91%E7%BB%9C%EF%BC%9A"><span class="toc-number">5.3.3.</span> <span class="toc-text">使用create创建网络：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BD%91%E7%BB%9C%E8%81%94%E9%80%9A%EF%BC%9A"><span class="toc-number">5.3.4.</span> <span class="toc-text">网络联通：</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%9E%E6%88%98%EF%BC%88%E9%83%A8%E7%BD%B2redis%E9%9B%86%E7%BE%A4%EF%BC%89%EF%BC%9A"><span class="toc-number">5.4.</span> <span class="toc-text">实战（部署redis集群）：</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%B0%8F%E6%8A%80%E5%B7%A7"><span class="toc-number">6.</span> <span class="toc-text">小技巧</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Docker%E5%BC%80%E6%9C%BA%E5%90%8E%E8%B7%91%E4%B8%8D%E4%BA%86%E7%9A%84%E9%97%AE%E9%A2%98"><span class="toc-number">6.1.</span> <span class="toc-text">Docker开机后跑不了的问题</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Docker%E6%98%A0%E5%B0%84%E7%AB%AF%E5%8F%A3%E5%9C%A8%E6%9C%8D%E5%8A%A1%E5%99%A8%E6%89%93%E5%BC%80"><span class="toc-number">6.2.</span> <span class="toc-text">Docker映射端口在服务器打开</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8D%9A%E5%AE%A2%E7%9A%84nginx%E9%87%8D%E5%90%AF%E4%B9%8B%E5%90%8E%E8%AE%B0%E5%BE%97%E5%BC%80"><span class="toc-number">6.3.</span> <span class="toc-text">博客的nginx重启之后记得开</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%BF%9C%E7%A8%8B%E8%AE%BF%E9%97%AE%E7%9A%84%E9%97%AE%E9%A2%98%EF%BC%9A"><span class="toc-number">6.4.</span> <span class="toc-text">远程访问的问题：</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#x2F-bin-x2F-bash"><span class="toc-number">6.5.</span> <span class="toc-text">&#x2F;bin&#x2F;bash</span></a></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2022/12/07/cao-zuo-xi-tong-gai-shu/" title="1. 南京大学操作系统概述"><img src="https://cdn.jsdelivr.net/gh/alexanderliu-creator/blog_img/img/202212071136497.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="1. 南京大学操作系统概述"/></a><div class="content"><a class="title" href="/2022/12/07/cao-zuo-xi-tong-gai-shu/" title="1. 南京大学操作系统概述">1. 南京大学操作系统概述</a><time datetime="2022-12-07T03:35:42.000Z" title="发表于 2022-12-07 11:35:42">2022-12-07</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/12/05/cpu-cache-xue-xi/" title="CPU Cache 学习"><img src="https://cdn.jsdelivr.net/gh/alexanderliu-creator/blog_img/img/202212051319709.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="CPU Cache 学习"/></a><div class="content"><a class="title" href="/2022/12/05/cpu-cache-xue-xi/" title="CPU Cache 学习">CPU Cache 学习</a><time datetime="2022-12-05T04:14:46.000Z" title="发表于 2022-12-05 12:14:46">2022-12-05</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/01/16/ml-ru-men/" title="ML入门"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="ML入门"/></a><div class="content"><a class="title" href="/2022/01/16/ml-ru-men/" title="ML入门">ML入门</a><time datetime="2022-01-16T11:11:14.000Z" title="发表于 2022-01-16 19:11:14">2022-01-16</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/12/28/da-shu-ju-fen-xi-yu-zhi-neng-ji-suan-qi-mo-fu-xi-3/" title="大数据分析与智能计算期末复习3"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="大数据分析与智能计算期末复习3"/></a><div class="content"><a class="title" href="/2021/12/28/da-shu-ju-fen-xi-yu-zhi-neng-ji-suan-qi-mo-fu-xi-3/" title="大数据分析与智能计算期末复习3">大数据分析与智能计算期末复习3</a><time datetime="2021-12-28T14:05:22.000Z" title="发表于 2021-12-28 22:05:22">2021-12-28</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/12/24/da-shu-ju-fen-xi-yu-zhi-neng-ji-suan-qi-mo-fu-xi-2/" title="大数据分析与智能计算期末复习2"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="大数据分析与智能计算期末复习2"/></a><div class="content"><a class="title" href="/2021/12/24/da-shu-ju-fen-xi-yu-zhi-neng-ji-suan-qi-mo-fu-xi-2/" title="大数据分析与智能计算期末复习2">大数据分析与智能计算期末复习2</a><time datetime="2021-12-24T07:59:54.000Z" title="发表于 2021-12-24 15:59:54">2021-12-24</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2022 By Alexander Liu</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.min.js"></script><div class="js-pjax"></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>